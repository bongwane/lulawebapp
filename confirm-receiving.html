<!DOCTYPE html>
<html class="dark" lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Confirm Receiving - Lula Agent</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link href="https://fonts.googleapis.com" rel="preconnect"/>
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700;800&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            primary: "#98ea6c",
            "background-light": "#f7f8f6",
            "background-dark": "#0A140D",
            "surface-dark": "#172111",
          },
          fontFamily: {
            display: ["Manrope"],
          },
          borderRadius: {
            DEFAULT: "0.5rem",
            lg: "1rem",
            xl: "1.5rem",
            full: "9999px"
          },
        },
      },
    };
  </script>
  <style>
    body {
      min-height: max(884px, 100dvh);
    }
  </style>
</head>
<body class="font-display bg-background-light dark:bg-background-dark text-background-dark dark:text-background-light">
  <div class="relative flex h-auto min-h-screen w-full flex-col overflow-x-hidden">
    <header class="fixed top-0 left-0 right-0 z-20 flex items-center justify-between bg-background-dark/80 p-4 pb-2 backdrop-blur-sm">
      <div class="flex items-center gap-3">
        <button onclick="history.back()" class="flex h-10 w-10 items-center justify-center rounded-full text-background-light">
          <span class="material-symbols-outlined text-2xl">arrow_back</span>
        </button>
        <p class="font-bold text-background-light ml-2">Confirm Receiving</p>
      </div>
      <div class="flex items-center gap-2">
        <button onclick="location.href='notifications.html'" class="flex h-10 w-10 items-center justify-center rounded-full text-background-light">
          <span class="material-symbols-outlined text-2xl">notifications</span>
        </button>
      </div>
    </header>
    <main class="flex-grow px-4 pb-24 pt-20 max-w-md mx-auto">
      <!-- Order Details Card with improved POP and PIN design -->
      <div class="bg-surface-dark rounded-xl p-4 my-4">
        <h2 class="text-lg font-bold text-background-light mb-4">Order Details</h2>
        <div class="mb-4">
          <div class="flex items-center justify-between gap-x-8 mb-2">
            <span class="text-background-light/60">Order Number</span>
            <span class="font-bold text-primary">LULA0123456789</span>
          </div>
          <div class="flex items-center justify-between mb-2">
            <span class="text-background-light/60">From</span>
            <span class="font-medium text-background-light">Sekai Njanike</span>
          </div>
          <div class="flex items-center justify-between mb-2">
            <span class="text-background-light/60">Date</span>
            <span class="font-medium text-background-light">24 Sep 2025</span>
          </div>
          <div class="flex items-center justify-between mb-2">
            <span class="text-background-light/60">Bank Paid To</span>
            <span class="font-medium text-background-light">Lula Pay Solutions</span>
          </div>
          <div class="flex items-center justify-between mb-2">
            <span class="text-background-light/60">Pay Total</span>
            <span class="font-bold text-primary">$120.00</span>
          </div>
        </div>
        <!-- POP Download Button -->
        <div class="mb-6">
          <button class="w-full bg-primary/80 text-background-dark font-semibold py-3 rounded-lg text-base flex items-center justify-center gap-2 hover:bg-primary transition">
            <span class="material-symbols-outlined text-xl">download</span>
            Download POP sent by client
          </button>
        </div>
        <!-- Toggle Button -->
        <div class="flex justify-center mb-6 mt-2">
          <div id="toggle-container" class="flex bg-background-dark/70 rounded-full p-1 w-72 shadow-inner">
            <button
              id="toggle-confirm"
              type="button"
              class="flex-1 py-2 rounded-full font-bold text-sm transition-all bg-primary text-background-dark shadow"
              onclick="setToggle('confirm')"
            >
              Confirm Received
            </button>
            <button
              id="toggle-cancel"
              type="button"
              class="flex-1 py-2 rounded-full font-bold text-sm transition-all text-background-light"
              style="background:transparent;"
              onclick="setToggle('cancel')"
            >
              Cancel Order
            </button>
          </div>
        </div>
        <!-- Toggle Content: Confirm (default) -->
        <div id="confirm-content">
          <!-- Agent POP Upload (styled like payment.html) -->
          <div class="mb-6">
            <div class="flex items-center justify-center rounded-xl border-2 border-dashed border-background-light/20 bg-background-dark p-4">
              <div class="text-center w-full">
                <span class="material-symbols-outlined text-5xl text-primary/40">
                  cloud_upload
                </span>
                <p class="mt-2 font-medium text-background-light">Upload Your POP</p>
                <p class="text-xs text-background-light/60">Tap to select a file or photo</p>
                <input accept="image/*,application/pdf" class="sr-only" id="agent-pop" name="agent-pop" type="file"/>
                <label class="mt-4 inline-block cursor-pointer rounded-lg bg-primary/20 px-4 py-2 text-sm font-semibold text-primary" for="agent-pop">Choose File</label>
              </div>
            </div>
          </div>
        </div>
        <!-- Toggle Content: Cancel -->
        <div id="cancel-content" style="display:none;">
          <div class="mb-6">
            <textarea id="cancel-reason" name="cancel-reason" rows="3"
              class="form-input w-full bg-background-dark text-background-light border-none rounded-lg px-4 py-3 text-base focus:ring-2 focus:ring-red-600/50 placeholder:text-background-light/60 resize-none"
              placeholder="Reason for cancelling this order..."></textarea>
          </div>
        </div>
        <!-- Agent PIN Input (styled like forgot-password.html) -->
        <div class="mb-6">
          <input type="password" id="agent-pin" name="agent-pin" maxlength="6"
            class="form-input w-full bg-background-dark text-background-light border-none rounded-lg h-12 px-4 text-base focus:ring-2 focus:ring-primary/50 placeholder:text-background-light/60"
            placeholder="Enter PIN"/>
        </div>
      </div>
    </main>
    <div class="fixed bottom-4 left-0 right-0 z-30 flex justify-center pointer-events-none">
      <div class="flex w-[90%] max-w-md gap-3 pointer-events-auto">
        <button
          id="cancel-btn"
          class="flex-1 rounded-xl bg-red-600 py-4 text-center font-bold text-background-light shadow-lg hover:bg-red-700 transition"
          style="font-size:1.1rem; display:none;"
          onclick="window.location.href='agent-tracking.html'"
        >
          Cancel Order
        </button>
        <button
          id="confirm-btn"
          class="flex-1 rounded-xl bg-primary py-4 text-center font-bold text-background-dark shadow-lg"
          style="font-size:1.1rem;"
          onclick="window.location.href='agent-tracking.html'"
        >
          Confirm Received
        </button>
      </div>
    </div>
  </div>
  <script>
    // Toggle logic
    function setToggle(mode) {
      const confirmBtn = document.getElementById('toggle-confirm');
      const cancelBtn = document.getElementById('toggle-cancel');
      const confirmContent = document.getElementById('confirm-content');
      const cancelContent = document.getElementById('cancel-content');
      const confirmActionBtn = document.getElementById('confirm-btn');
      const cancelActionBtn = document.getElementById('cancel-btn');

      if (mode === 'confirm') {
        confirmBtn.classList.add('bg-primary', 'text-background-dark', 'shadow');
        confirmBtn.classList.remove('text-background-light');
        cancelBtn.classList.remove('bg-red-600', 'text-background-dark', 'shadow');
        cancelBtn.classList.add('text-background-light');
        cancelBtn.style.background = 'transparent';
        confirmContent.style.display = '';
        cancelContent.style.display = 'none';
        confirmActionBtn.style.display = '';
        cancelActionBtn.style.display = 'none';
        confirmActionBtn.disabled = false;
      } else {
        cancelBtn.classList.add('bg-red-600', 'text-background-dark', 'shadow');
        cancelBtn.classList.remove('text-background-light');
        cancelBtn.style.background = '';
        confirmBtn.classList.remove('bg-primary', 'text-background-dark', 'shadow');
        confirmBtn.classList.add('text-background-light');
        confirmContent.style.display = 'none';
        cancelContent.style.display = '';
        confirmActionBtn.style.display = 'none';
        cancelActionBtn.style.display = '';
        cancelActionBtn.disabled = false;
      }
    }
    // Set default to confirm
    setToggle('confirm');
  </script>
</body>
</html>