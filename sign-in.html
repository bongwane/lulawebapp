<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sign In — LULA</title>
  <meta name="theme-color" content="#9FE870" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <!-- Use Sora to match index-new and Luckiest Guy for brand mark -->
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet" />
  <script>(function(){try{const t=localStorage.getItem('lula_theme')||'light';document.documentElement.classList.toggle('dark',t==='dark')}catch(e){}})();</script>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#98ea6c',
            'background-light': '#f7f8f6',
            'background-dark': '#0A140D',
            'surface-dark': '#172111',
            'text-light': '#0A140D',
            'text-dark': '#EAF7E4',
            'text-muted-light': '#6B7D72',
            'text-muted-dark': '#A8B3AB',
          },
          fontFamily: {
            sans: ['Sora','system-ui','-apple-system','Segoe UI','Roboto','sans-serif'],
            brand: ['Luckiest Guy','cursive']
          },
          borderRadius: {
            DEFAULT: '1rem',
            lg: '1.5rem',
            xl: '2rem',
            full: '9999px'
          }
        }
      }
    }
  </script>
  <link rel="preload" href="styles/theme.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="styles/theme.css"></noscript>
  <style>
    body { min-height: max(884px, 100dvh); }
    .text-ink { color: #163300 !important; }
  </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-sans text-ink dark:text-white">
  <div class="relative min-h-screen overflow-hidden">
  <!-- Decorative orbs removed per request -->

    <!-- Header -->
    <header class="sticky top-0 z-30 backdrop-blur bg-background-light/80 dark:bg-background-dark/60 border-b border-white/30 dark:border-white/10">
      <div class="w-full flex items-center justify-between px-4 py-3">
        <div class="text-ink text-4xl font-brand tracking-wider">LULA</div>
        <button class="text-text-light dark:text-text-dark" onclick="window.location.href='index.html'" aria-label="Close">
          <svg fill="currentColor" height="26" viewBox="0 0 256 256" width="26" xmlns="http://www.w3.org/2000/svg"><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"></path></svg>
        </button>
      </div>
    </header>

    <!-- Main content -->
    <main class="max-w-md mx-auto px-4 pt-8 pb-28 grid-lines">
      <h1 class="text-2xl font-bold text-center mb-4">Welcome back</h1>
      <p class="text-center text-text-muted-light dark:text-text-muted-dark mb-6">Sign in to continue</p>

      <form id="signInForm" class="glass neo-edge accent-glow rounded-2xl ring-1 ring-white/30 dark:ring-white/10 p-5 md:p-6 space-y-4" novalidate>
        <div>
          <label for="email" class="block text-sm mb-1">Email or phone</label>
          <input id="email" name="email" type="text" autocomplete="username"
                 class="w-full rounded-xl bg-white/80 dark:bg-surface-dark/70 border border-white/40 dark:border-white/10 h-12 px-4 focus:ring-2 focus:ring-primary/50 focus:outline-none placeholder:text-text-muted-light dark:placeholder:text-text-muted-dark"
                 placeholder="you@example.com" required />
        </div>
        <div>
          <div class="flex items-center justify-between mb-1">
            <label for="password" class="text-sm">Password</label>
            <a class="text-sm text-primary hover:underline" href="forgot-password.html">Forgot?</a>
          </div>
          <div class="relative">
            <input id="password" name="password" type="password" autocomplete="current-password"
                   class="w-full rounded-xl bg-white/80 dark:bg-surface-dark/70 border border-white/40 dark:border-white/10 h-12 px-4 pr-12 focus:ring-2 focus:ring-primary/50 focus:outline-none placeholder:text-text-muted-light dark:placeholder:text-text-muted-dark"
                   placeholder="Your password" required />
            <button id="togglePwd" type="button" class="absolute inset-y-0 right-0 px-3 text-text-muted-light dark:text-text-muted-dark" aria-label="Show password">
              <svg class="pointer-events-none" fill="none" height="22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"/><circle cx="12" cy="12" r="3"/></svg>
            </button>
          </div>
        </div>
        <label class="inline-flex items-center gap-2 text-sm select-none">
          <input id="remember" type="checkbox" class="rounded border-white/40 dark:border-white/10 text-primary focus:ring-primary/40" />
          Remember me
        </label>

        <button id="submitBtn" type="submit" disabled
                class="w-full bg-[#9FE870] text-[#163300] font-bold py-3.5 rounded-full text-base transition-transform hover:scale-[1.01] hover:bg-[#8BD45F] active:bg-[#163300] active:text-[#9FE870] disabled:opacity-60 disabled:cursor-not-allowed neon-soft">
          Sign In
        </button>
      </form>

      <div class="text-center mt-6 text-sm text-text-muted-light dark:text-text-muted-dark">
        Don’t have an account?
        <a class="font-bold text-primary hover:underline" href="sign-up.html">Sign Up</a>
      </div>
    </main>

    <!-- Footer spacer -->
    <div class="h-6"></div>
  </div>

  <script>
    // Enable submit when both fields are non-empty
    const form = document.getElementById('signInForm');
    const email = document.getElementById('email');
    const pwd = document.getElementById('password');
    const btn = document.getElementById('submitBtn');
    const toggle = document.getElementById('togglePwd');

    function setBtnState(disabled){
      btn.disabled = disabled;
      btn.setAttribute('aria-disabled', disabled ? 'true' : 'false');
    }
    function updateState(){ setBtnState(!(email.value.trim() && pwd.value.trim())); }
    email.addEventListener('input', updateState);
    email.addEventListener('change', updateState);
    pwd.addEventListener('input', updateState);
    pwd.addEventListener('change', updateState);
    // Handle browser autofill on page load and when returning via bfcache
    document.addEventListener('DOMContentLoaded', updateState);
    window.addEventListener('pageshow', updateState);
    // Slight delays to catch async autofill in some browsers
    setTimeout(updateState, 50);
    setTimeout(updateState, 300);
    toggle.addEventListener('click', () => {
      const show = pwd.type === 'password';
      pwd.type = show ? 'text' : 'password';
      toggle.setAttribute('aria-label', show ? 'Hide password' : 'Show password');
    });
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      // TODO: Replace with real auth; for demo go to dashboard
      window.location.href = 'dashboard.html';
    });
  </script>
</body>
</html>