<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>LULA - Digital Wallet</title>
<meta name="description" content="LULA is a fast, secure money app for sending, spending, and managing your money with fair fees and great rates."/>
<link rel="canonical" href="https://www.lula.example/"/>
<meta property="og:type" content="website"/>
<meta property="og:title" content="LULA — Your money, your way"/>
<meta property="og:description" content="Send and spend globally with fair fees, great rates, and a beautiful experience."/>
<meta property="og:image" content="/assets/og-image.jpg"/>
<meta property="og:url" content="https://www.lula.example/"/>
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:title" content="LULA — Your money, your way"/>
<meta name="twitter:description" content="Send and spend globally with fair fees, great rates, and a beautiful experience."/>
<meta name="twitter:image" content="/assets/og-image.jpg"/>
<meta name="theme-color" content="#163300"/>
<link rel="manifest" href="/manifest.webmanifest"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700;800&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            primary: "#98ea6c",
            "background-light": "#f7f8f6",
            "background-dark": "#0A140D",
            "surface-dark": "#172111",
          },
          fontFamily: {
            sans: ["Space Grotesk", "Manrope", "sans-serif"],
            brand: ["Luckiest Guy", "cursive"],
            display: ["Manrope"],
          },
          borderRadius: {
            DEFAULT: "0.5rem",
            lg: "1rem",
            xl: "1.5rem",
            "2xl": "2rem",
            full: "9999px",
          },
        },
      },
    };
  </script>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<link rel="stylesheet" href="styles/theme.css" />
<style>
    .text-contrast-on-primary {
      color: #102216;
    }
    body {
      min-height: max(884px, 100dvh);
    }
    :root {
      --lula-green: #98ea6c;
      --lula-dark: #0A140D;
      --lula-gray-dark: #1A1A1A;
      --lula-gray-light: #A3A3A3;
      --lula-white: #FFFFFF;
      --lula-green-dark: #2A3B2B;
      --lula-card-bg: #172111;
    }
    /* Futuristic minimalist utilities */
    .glass { background: rgba(255,255,255,0.6); backdrop-filter: saturate(120%) blur(14px); border: 1px solid rgba(255,255,255,0.35); }
    .dark .glass { background: rgba(23, 33, 17, 0.5); border-color: rgba(255,255,255,0.08); }
    .neo-edge { box-shadow: 0 1px 0 0 rgba(255,255,255,0.15) inset, 0 8px 30px -8px rgba(0,0,0,0.25); }
    .neon-soft { box-shadow: 0 0 0 1px rgba(152, 234, 108, 0.28), 0 0 24px rgba(152, 234, 108, 0.2); }
    .btn-neo { border: 1px solid rgba(255,255,255,0.28); background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.7)); color: #102216; }
    .dark .btn-neo { border-color: rgba(255,255,255,0.08); background: rgba(23,33,17,0.5); color: #EAF7E4; }
    .btn-ghost { border: 1px solid rgba(255,255,255,0.25); background: transparent; }
    .grid-lines { background-image: linear-gradient(transparent 0, transparent calc(100% - 1px), rgba(255,255,255,0.08) calc(100% - 1px)), linear-gradient(90deg, transparent 0, transparent calc(100% - 1px), rgba(255,255,255,0.08) calc(100% - 1px)); background-size: 24px 24px, 24px 24px; background-position: top left, top left; }
    .accent-glow { position: relative; }
    .accent-glow:before { content:""; position:absolute; inset:-1px; border-radius:inherit; pointer-events:none; box-shadow: 0 0 0 1px rgba(152,234,108,0.2), 0 0 60px rgba(152,234,108,0.12) inset; }
    /* Micro bounce animation for swap button */
    @keyframes micro-bounce {
      0% { transform: scale(1); }
      25% { transform: scale(1.08); }
      60% { transform: scale(0.98); }
      100% { transform: scale(1); }
    }
    .bounce-once { animation: micro-bounce 420ms cubic-bezier(.2,.8,.2,1); }
    /* Reveal animation utilities */
    .reveal { opacity: 0; transform: translateY(14px); transition: opacity 500ms ease, transform 500ms cubic-bezier(.2,.8,.2,1); }
    .reveal.reveal-visible { opacity: 1; transform: none; }
    .reveal.fade { transform: none; }
    .reveal.slide-up { transform: translateY(18px); }
    .reveal.slide-left { transform: translateX(18px); }
    .reveal.slide-right { transform: translateX(-18px); }
    .reveal.delay-1 { transition-delay: 80ms; }
    .reveal.delay-2 { transition-delay: 160ms; }
    .reveal.delay-3 { transition-delay: 240ms; }
    .reveal.delay-4 { transition-delay: 320ms; }
    @media (prefers-reduced-motion: reduce) {
      .reveal, .reveal.reveal-visible { opacity: 1 !important; transform: none !important; transition: none !important; }
    }
    /* Liquid glass button - borderless frosted style */
    .btn-liquid { 
      background: rgba(255, 255, 255, 0.14);
      color: #fff;
      border: none;
      -webkit-backdrop-filter: saturate(140%) blur(12px);
      backdrop-filter: saturate(140%) blur(12px);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.22), 0 8px 24px rgba(0,0,0,0.18);
      transition: background 180ms ease, box-shadow 220ms ease, transform 160ms ease;
      position: relative; overflow: hidden;
    }
    .btn-liquid:hover { 
      background: rgba(255, 255, 255, 0.22);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.28), 0 10px 28px rgba(0,0,0,0.22);
    }
    .btn-liquid::before { content: ""; position: absolute; inset: 1px; border-radius: inherit; pointer-events: none; background: linear-gradient(180deg, rgba(255,255,255,0.25), rgba(255,255,255,0.04)); opacity: 0.0; transition: opacity 200ms ease; }
    .btn-liquid:hover::before { opacity: 1; }
    .btn-liquid:active { 
      transform: translateY(1px);
      background: rgba(255, 255, 255, 0.28);
    }
    .dark .btn-liquid {
      background: rgba(23, 33, 17, 0.45);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.08), 0 8px 24px rgba(0,0,0,0.35);
    }
    .dark .btn-liquid:hover { background: rgba(23, 33, 17, 0.55); }
  /* Liquid glass variant for dropdown items (keeps text colors) */
  .btn-liquid-item { position: relative; border: none; background: transparent; -webkit-backdrop-filter: saturate(140%) blur(8px); backdrop-filter: saturate(140%) blur(8px); transition: background 160ms ease, box-shadow 200ms ease; }
  .btn-liquid-item::before { content: ""; position: absolute; inset: 0; border-radius: inherit; background: rgba(255,255,255,0.12); box-shadow: inset 0 1px 0 rgba(255,255,255,0.18); opacity: 0; transition: opacity 160ms ease; }
  .btn-liquid-item:hover::before { opacity: 1; }
  .dark .btn-liquid-item::before { background: rgba(23,33,17,0.35); box-shadow: inset 0 1px 0 rgba(255,255,255,0.06); }
  /* Satisfying input + number animations */
  .input-glow { transition: box-shadow 180ms ease, background-color 180ms ease; }
  .input-glow:focus { outline: none; box-shadow: 0 0 0 3px rgba(159, 232, 112, 0.45); background-color: rgba(159, 232, 112, 0.06); }
  @keyframes pulse-green { 0% { box-shadow: 0 0 0 0 rgba(159,232,112,0.5) } 100% { box-shadow: 0 0 0 14px rgba(159,232,112,0) } }
  .pulse-on-input { animation: pulse-green 650ms ease-out; }
  .number-tween { transition: color 240ms ease; }
  .flash-updated { color: #163300 !important; background: linear-gradient(transparent 60%, rgba(159,232,112,0.35)); border-radius: 4px; }
  /* Squish animation for value updates */
  @keyframes squishY { 0% { transform: scaleY(0.98); } 100% { transform: scaleY(1); } }
  .squish-once { animation: squishY 180ms ease-out; }
  /* Rotate during bounce for swap button */
  .bounce-once { animation: micro-bounce 420ms cubic-bezier(.2,.8,.2,1); }
  .rotate-tilt { transform: rotate(8deg); }
    @media (prefers-reduced-motion: no-preference) {
      .hover-rise { transition: transform 180ms ease, box-shadow 240ms ease, background 240ms ease; }
      .hover-rise:hover { transform: translateY(-2px); }
      .hover-press { transition: transform 180ms ease; }
      .hover-press:hover { transform: translateY(-1px) scale(1.01); }
    }
  </style>
  <!-- Structured data: Aggregate rating for app (SEO) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "MobileApplication",
    "name": "LULA",
    "applicationCategory": "FinanceApplication",
    "operatingSystem": "iOS, Android",
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.6",
      "ratingCount": 1284,
      "reviewCount": 1284
    }
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "LULA",
    "applicationCategory": "FinanceApplication",
    "operatingSystem": "iOS, Android, Web",
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.6",
      "ratingCount": 1284
    }
  }
  </script>
  </head>
<body class="bg-background-light dark:bg-background-dark font-sans text-text-light dark:text-text-dark">
<div class="relative w-full overflow-x-hidden">
<header class="absolute top-0 left-0 right-0 z-50 flex justify-between items-center p-4">
  <div class="flex items-center gap-3">
    <div class="text-white text-4xl font-brand tracking-wider">LULA</div>
  </div>
  <!-- Desktop actions -->
  <div class="items-center gap-2 hidden md:flex">
  <a class="btn-liquid text-white text-sm font-bold py-2 px-4 rounded-full" href="how-it-works.html" data-i18n="howItWorks">How it works</a>
    <!-- App download dropdown (desktop hidden to avoid duplication with badges) -->
    <div class="relative md:hidden">
      <button id="appDownloadButton" aria-expanded="false" aria-controls="appMenu"
        class="flex items-center gap-2 btn-liquid text-white text-sm font-bold py-2 px-3 rounded-full">
        <span class="material-symbols-outlined text-base">download</span>
        <span class="hidden sm:inline" data-i18n="downloadApp">Download app</span>
        <span class="material-symbols-outlined text-sm">expand_more</span>
      </button>
  <div id="appMenu" class="absolute right-0 mt-2 bg-white/90 dark:bg-gray-800/90 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg w-48 p-2 hidden z-50 backdrop-blur-md" role="menu" aria-labelledby="appDownloadButton">
        <a href="#" class="flex items-center gap-2 px-2 py-2 rounded btn-liquid-item text-gray-800 dark:text-gray-100" role="menuitem" aria-label="Android app">
          <span class="material-symbols-outlined text-base">android</span>
          <span data-i18n="androidApp">Android app</span>
        </a>
        <a href="#" class="flex items-center gap-2 px-2 py-2 rounded btn-liquid-item text-gray-800 dark:text-gray-100" role="menuitem" aria-label="iOS app">
          <span class="material-symbols-outlined text-base">apple</span>
          <span data-i18n="iosApp">iOS app</span>
        </a>
      </div>
    </div>
    <!-- Language Switcher (desktop) -->
    <div class="relative">
  <button id="langSwitcherButton" aria-expanded="false" class="flex items-center gap-2 btn-liquid text-white text-sm font-bold py-2 px-3 rounded-full">
        <img id="langBtnFlag" src="https://upload.wikimedia.org/wikipedia/en/a/ae/Flag_of_the_United_Kingdom.svg" alt="EN" class="h-4 w-4 rounded-full object-cover" />
        <span id="langCode">EN</span>
        <span class="material-symbols-outlined text-sm">expand_more</span>
      </button>
      <div id="langMenu" class="absolute right-0 mt-2 bg-white/90 dark:bg-gray-800/90 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg w-40 p-2 hidden z-50 backdrop-blur-md" role="menu">
        <button class="w-full flex items-center gap-2 px-2 py-2 rounded btn-liquid-item text-gray-800 dark:text-gray-100" data-lang="en" role="menuitem">
          <img src="https://upload.wikimedia.org/wikipedia/en/a/ae/Flag_of_the_United_Kingdom.svg" alt="English" class="h-4 w-4 rounded-full object-cover" />
          <span>English</span>
        </button>
        <button class="w-full flex items-center gap-2 px-2 py-2 rounded btn-liquid-item text-gray-800 dark:text-gray-100" data-lang="ru" role="menuitem">
          <img src="https://upload.wikimedia.org/wikipedia/commons/f/f3/Flag_of_Russia.svg" alt="Русский" class="h-4 w-4 rounded-full object-cover" />
          <span>Русский</span>
        </button>
      </div>
    </div>
    <!-- End Language Switcher -->
  <a class="btn-liquid text-white text-sm font-bold py-2 px-4 rounded-full" href="sign-in.html" data-i18n="signIn">Sign In</a>
  </div>
  
  <!-- Mobile hamburger -->
  <button id="mobileMenuButton" aria-controls="mobileMenu" aria-expanded="false" class="md:hidden text-white flex h-10 w-10 items-center justify-center rounded-full btn-liquid" aria-label="Open menu">
    <span class="material-symbols-outlined">menu</span>
  </button>
  <!-- Backdrop for mobile menu -->
  <div id="mobileBackdrop" class="md:hidden fixed inset-0 bg-black/40 hidden z-40"></div>
  <!-- Mobile slide-in panel -->
  <div id="mobileMenu" role="dialog" aria-modal="true" class="md:hidden fixed top-0 right-0 h-screen w-72 max-w-[80%] bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 shadow-2xl p-3 hidden z-50 transform translate-x-full transition-transform duration-300 overflow-y-auto">
    <div class="flex items-center justify-between mb-2">
  <span class="text-sm font-semibold text-gray-500 dark:text-gray-400" data-i18n="menuLabel">Menu</span>
      <button id="mobileMenuClose" class="text-gray-600 dark:text-gray-300 flex h-10 w-10 items-center justify-center rounded-full hover:bg-gray-100 dark:hover:bg-gray-700" aria-label="Close menu">
        <span class="material-symbols-outlined">close</span>
      </button>
    </div>
    <a href="how-it-works.html" class="flex items-center gap-2 px-3 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-100">
      <span class="material-symbols-outlined text-base">info</span>
      <span data-i18n="howItWorks">How it works</span>
    </a>
    <div class="h-px my-2 bg-gray-200 dark:bg-gray-700"></div>
    <!-- Mobile: Download app dropdown -->
    <button id="mobileAppToggle" class="w-full flex items-center justify-between gap-2 px-3 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-100">
      <span class="flex items-center gap-2">
        <span class="material-symbols-outlined text-base">download</span>
        <span data-i18n="downloadApp">Download app</span>
      </span>
      <span class="material-symbols-outlined text-sm" id="mobileAppChevron">expand_more</span>
    </button>
    <div id="mobileAppMenu" class="ml-10 mt-1 flex-col hidden" role="menu" aria-label="Download app submenu">
      <a href="#" class="flex items-center gap-2 px-3 py-2 rounded btn-liquid-item text-gray-800 dark:text-gray-100" role="menuitem" aria-label="Android app">
        <span class="material-symbols-outlined text-base">android</span>
        <span data-i18n="androidApp">Android app</span>
      </a>
      <a href="#" class="flex items-center gap-2 px-3 py-2 rounded btn-liquid-item text-gray-800 dark:text-gray-100" role="menuitem" aria-label="iOS app">
        <span class="material-symbols-outlined text-base">apple</span>
        <span data-i18n="iosApp">iOS app</span>
      </a>
    </div>
    <div class="h-px my-2 bg-gray-200 dark:bg-gray-700"></div>
    <div class="px-3 py-2">
      <p class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-1" data-i18n="languageLabel">Language</p>
      <div class="flex items-center gap-2">
        <button class="lang-select flex items-center gap-2 px-2 py-1 rounded border border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-100" data-lang="en">
          <img src="https://upload.wikimedia.org/wikipedia/en/a/ae/Flag_of_the_United_Kingdom.svg" alt="English" class="h-4 w-4 rounded-full object-cover" />
          <span>EN</span>
        </button>
        <button class="lang-select flex items-center gap-2 px-2 py-1 rounded border border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-100" data-lang="ru">
          <img src="https://upload.wikimedia.org/wikipedia/commons/f/f3/Flag_of_Russia.svg" alt="Русский" class="h-4 w-4 rounded-full object-cover" />
          <span>RU</span>
        </button>
      </div>
    </div>
    <div class="h-px my-2 bg-gray-200 dark:bg-gray-700"></div>
    <a href="sign-in.html" class="flex items-center gap-2 px-3 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-100">
      <span class="material-symbols-outlined text-base">login</span>
      <span data-i18n="signIn">Sign In</span>
    </a>
  </div>
</header>
<main>
<section class="relative min-h-[50vh] flex items-end justify-center text-center p-4 pt-8 bg-cover bg-center z-30" style="background-image: linear-gradient(to top, rgba(16, 34, 22, 1) 0%, rgba(16, 34, 22, 0.7) 100%), image-set(url('/assets/hero.avif') type('image/avif'), url('/assets/hero.webp') type('image/webp'), url('/assets/hero.jpg') type('image/jpeg'));">
<div class="absolute inset-0 grid-lines opacity-20"></div>
<div class="flex flex-col gap-3 items-center pb-28 relative">
<h1 class="text-white text-5xl md:text-6xl font-semibold leading-tight tracking-tight reveal slide-up" data-i18n="heroTitle">Your money, your way.</h1>
<p class="text-white/80 max-w-md text-base md:text-lg reveal slide-up delay-1" data-i18n="heroSubtitle">One app for all your financial needs. Simple, fast, secure.</p>
<div class="hidden md:flex items-center gap-4 mt-2 reveal slide-up delay-2">
  <a href="#" aria-label="Download on the App Store">
    <img src="https://tools.applemediaservices.com/api/badges/download-on-the-app-store/black/en-us?size=120x40" alt="Download on the App Store" class="h-10 w-auto" width="120" height="40" loading="lazy" decoding="async"/>
  </a>
  <a href="#" aria-label="Get it on Google Play">
    <img src="https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png" alt="Get it on Google Play" class="h-10 w-auto" width="180" height="70" loading="lazy" decoding="async"/>
  </a>
</div>
</div>

<!-- End hero section -->
</section>

<!-- Rate Playground Section - Similar to Wise -->
<section class="px-4 pb-20 md:pb-16 @container -mt-20 md:-mt-24 relative z-30">
<div class="max-w-3xl mx-auto glass neo-edge rounded-2xl p-6 md:p-8 accent-glow ring-1 ring-white/30 dark:ring-white/10 shadow-xl reveal slide-up delay-2">

<!-- Rate Calculator -->
<div class="space-y-4">
<!-- You Send Section -->
<div id="youSendCard" class="rounded-xl p-1.5 md:p-2 border border-white/30 dark:border-white/10 bg-white/70 dark:bg-white/5 backdrop-blur transition-shadow focus-within:ring-2 focus-within:ring-[#9FE870]/60 hover:shadow-md">
<div class="flex flex-col">
<div class="flex items-center justify-between mb-0.5">
<label for="sendAmount" class="inline-flex items-center gap-1.5 text-sm text-gray-600 dark:text-gray-400"><span data-i18n="youSend">You send</span></label>
 </div>
<div class="grid grid-cols-[1fr_auto] items-center gap-2">
  <input 
    id="sendAmount" 
    class="bg-transparent text-2xl md:text-3xl font-bold text-gray-900 dark:text-white placeholder-gray-400 border-none outline-none flex-1 min-w-0 input-glow" 
    placeholder="100" 
    type="text" 
    value="100"
    oninput="updateConversion()" onfocus="unformatInput(this)" onblur="formatInput(this, 2)" aria-describedby="sendCurrencyButton" inputmode="decimal" step="0.01" min="0"
  />
  <div class="relative inline-block">
    <button id="sendCurrencyButton" aria-expanded="false" aria-controls="sendCurrencyMenu" class="flex items-center gap-2 rounded-full bg-transparent px-1 py-0.5 hover:bg-white/40 dark:hover:bg-gray-700/40 transition-colors">
        <img alt="Zimbabwe flag" class="h-5 w-5 rounded-full object-cover" src="https://upload.wikimedia.org/wikipedia/commons/6/6a/Flag_of_Zimbabwe.svg"/>
        <span class="font-bold text-2xl md:text-3xl leading-none">USD</span>
        <span class="material-symbols-outlined text-2xl md:text-3xl leading-none">expand_more</span>
      </button>
      <div id="sendCurrencyMenu" class="absolute right-0 mt-2 bg-white/90 dark:bg-gray-800/90 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg w-40 p-2 hidden z-50 backdrop-blur-md" role="menu" aria-labelledby="sendCurrencyButton">
        <button class="w-full flex items-center gap-2 px-2 py-2 rounded btn-liquid-item text-gray-800 dark:text-gray-100" data-curr="USD" role="menuitem">
          <img alt="USD" class="h-4 w-4 rounded-full object-cover" src="https://upload.wikimedia.org/wikipedia/commons/6/6a/Flag_of_Zimbabwe.svg" />
          <span>USD</span>
        </button>
        <button class="w-full flex items-center gap-2 px-2 py-2 rounded btn-liquid-item text-gray-800 dark:text-gray-100" data-curr="RUB" role="menuitem">
          <img alt="RUB" class="h-4 w-4 rounded-full object-cover" src="https://upload.wikimedia.org/wikipedia/commons/f/f3/Flag_of_Russia.svg" />
          <span>RUB</span>
        </button>
      </div>
  </div>
</div>
<div class="flex justify-end mt-1">
  <div class="relative inline-block">
    <button id="paymentMethodButton" aria-expanded="false" aria-controls="paymentMethodMenu" class="w-auto flex items-center gap-2 justify-between md:justify-center rounded-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 px-2 py-1 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-600 min-w-[160px] md:min-w-[200px]">
      <span class="material-symbols-outlined text-base text-[#102216] dark:text-[#EAF7E4]" id="paymentMethodIcon">credit_card</span>
      <span id="paymentMethodLabel" class="text-[#102216] dark:text-[#EAF7E4]">—</span>
      <span class="material-symbols-outlined text-sm text-[#102216] dark:text-[#EAF7E4]">expand_more</span>
    </button>
    <div id="paymentMethodMenu" class="absolute right-0 mt-2 w-56 bg-white/90 dark:bg-gray-800/90 rounded-lg shadow-lg p-2 hidden z-50 backdrop-blur-md" role="menu" aria-labelledby="paymentMethodButton"></div>
  </div>
</div>
</div>
</div>

<!-- Conversion Arrow -->
<div class="relative flex items-center justify-center">
<div class="h-px w-full bg-gray-200 dark:bg-gray-700"></div>
<div id="swapButton" class="absolute z-20 flex h-10 w-10 items-center justify-center rounded-full bg-[#9FE870] text-[#163300] shadow-lg ring-2 ring-white/60 dark:ring-white/10 hover:bg-[#8BD45F] active:bg-[#163300] active:text-[#9FE870] transition-colors cursor-pointer will-change-transform" onclick="swapCurrencies()" aria-label="Swap currencies">
<span class="material-symbols-outlined">swap_vert</span>
</div>
</div>

<!-- They Get Section -->
<div id="theyGetCard" class="rounded-xl p-1.5 md:p-2 border border-white/30 dark:border-white/10 bg-white/70 dark:bg-white/5 backdrop-blur -mt-5 md:-mt-6 will-change-transform transition-shadow focus-within:ring-2 focus-within:ring-[#9FE870]/60 hover:shadow-md">
<div class="flex items-center justify-between mb-1">
<label for="receiveAmount" class="inline-flex items-center gap-1.5 text-sm text-gray-600 dark:text-gray-400"><span data-i18n="theyGet">They get</span></label>
<span class="px-2 py-1 rounded-full bg-white/60 dark:bg-gray-700/60 text-[11px] text-gray-700 dark:text-gray-200"><span data-i18n="rateLabel">Rate</span>: 1 USD = <span id="exchangeRate">78.62</span> <span id="toCurrency">RUB</span></span>
</div>
<div class="grid grid-cols-[1fr_auto] items-center gap-2 mb-1.5 md:mb-2">
  <input 
    id="receiveAmount" 
    class="bg-transparent text-2xl md:text-3xl font-bold text-gray-900 dark:text-white placeholder-gray-400 border-none outline-none flex-1 min-w-0 input-glow" 
    placeholder="0.00" 
    type="text" 
    value="7862.00"
    oninput="updateFromReceive()" onfocus="unformatInput(this)" onblur="formatInput(this, 2)" aria-describedby="receiveCurrencyButton" inputmode="decimal" step="1" min="0"
  />
  <div class="relative inline-block">
    <button id="receiveCurrencyButton" aria-expanded="false" aria-controls="receiveCurrencyMenu" class="flex items-center gap-2 rounded-full bg-transparent px-1 py-0.5 hover:bg-white/40 dark:hover:bg-gray-700/40 transition-colors">
        <img alt="RUB flag" class="h-5 w-5 rounded-full object-cover" src="https://upload.wikimedia.org/wikipedia/commons/f/f3/Flag_of_Russia.svg"/>
        <span class="font-bold text-2xl md:text-3xl leading-none">RUB</span>
        <span class="material-symbols-outlined text-2xl md:text-3xl leading-none">expand_more</span>
      </button>
      <div id="receiveCurrencyMenu" class="absolute right-0 mt-2 bg-white/90 dark:bg-gray-800/90 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg w-40 p-2 hidden z-50 backdrop-blur-md" role="menu" aria-labelledby="receiveCurrencyButton">
        <button class="w-full flex items-center gap-2 px-2 py-2 rounded btn-liquid-item text-gray-800 dark:text-gray-100" data-curr="RUB" role="menuitem">
          <img alt="RUB" class="h-4 w-4 rounded-full object-cover" src="https://upload.wikimedia.org/wikipedia/commons/f/f3/Flag_of_Russia.svg" />
          <span>RUB</span>
        </button>
        <button class="w-full flex items-center gap-2 px-2 py-2 rounded btn-liquid-item text-gray-800 dark:text-gray-100" data-curr="USD" role="menuitem">
          <img alt="USD" class="h-4 w-4 rounded-full object-cover" src="https://upload.wikimedia.org/wikipedia/commons/6/6a/Flag_of_Zimbabwe.svg" />
          <span>USD</span>
        </button>
      </div>
  </div>
</div>
<div class="flex justify-end">
  <div class="relative inline-block">
    <button id="collectionMethodButton" aria-expanded="false" aria-controls="collectionMethodMenu" class="w-auto flex items-center gap-2 justify-between md:justify-center rounded-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 px-2 py-1 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-600 min-w-[160px] md:min-w-[200px]">
      <span class="material-symbols-outlined text-base text-[#102216] dark:text-[#EAF7E4]" id="collectionMethodIcon">account_balance</span>
      <span id="collectionMethodLabel" class="text-[#102216] dark:text-[#EAF7E4]">—</span>
      <span class="material-symbols-outlined text-sm text-[#102216] dark:text-[#EAF7E4]">expand_more</span>
    </button>
    <div id="collectionMethodMenu" class="absolute right-0 mt-2 w-56 bg-white/90 dark:bg-gray-800/90 rounded-lg shadow-lg p-2 hidden z-50 backdrop-blur-md" role="menu" aria-labelledby="collectionMethodButton"></div>
  </div>
</div>
</div>

</div>

<!-- Fee Breakdown -->
<div class="rounded-xl p-4 space-y-3 mt-4 border border-white/30 dark:border-white/10 bg-white/70 dark:bg-white/5 backdrop-blur">
<div class="flex justify-between items-center text-sm">
<span class="text-gray-600 dark:text-gray-400" data-i18n="bankFee">Bank fee</span>
<span class="font-semibold" id="transferFeeDisplay">$2.50</span>
</div>
<div class="flex justify-between items-center text-sm">
<span class="text-gray-600 dark:text-gray-400" data-i18n="ourFee">Our fee</span>
<span class="font-semibold" id="speedFeeDisplay">$5.00</span>
</div>
<div class="border-t border-gray-200 dark:border-gray-600 pt-3 flex justify-between items-center font-bold">
<span data-i18n="totalToPay">Total to pay</span>
<span id="totalPay" class="text-lg">$102.50</span>
</div>
</div>

<!-- Speed Options -->
<div class="space-y-3 mt-6 md:mt-8">
<div class="grid grid-cols-3 gap-3 md:gap-4">
<button class="flex flex-col items-center justify-center gap-2 rounded-xl bg-white/70 dark:bg-white/5 border border-white/30 dark:border-white/10 p-3 text-center hover:bg-white hover:shadow-md dark:hover:bg-white/10 hover-rise speed-option cursor-pointer" data-speed="standard" data-percent="0.03">
<span class="material-symbols-outlined text-xl text-primary">schedule</span>
<div class="text-xs font-medium" data-i18n="speedStandard">Standard</div>
<div class="text-[10px] text-gray-500" data-i18n="speedStandardTime">1-3 days</div>
<div class="text-sm font-bold speed-amount">$0.00</div>
</button>
<button class="flex flex-col items-center justify-center gap-2 rounded-xl bg-primary/10 dark:bg-primary/20 border border-white/30 dark:border-white/10 p-3 text-center hover:shadow-md hover-rise speed-option cursor-pointer" data-speed="express" data-percent="0.05">
<span class="material-symbols-outlined text-xl text-primary">bolt</span>
<div class="text-xs font-medium" data-i18n="speedExpress">Express</div>
<div class="text-[10px] text-gray-500" data-i18n="speedExpressTime">Under 1 day</div>
<div class="text-sm font-bold speed-amount">$0.00</div>
</button>
<button class="flex flex-col items-center justify-center gap-2 rounded-xl bg-white/70 dark:bg-white/5 border border-white/30 dark:border-white/10 p-3 text-center hover:bg-white hover:shadow-md dark:hover:bg-white/10 hover-rise speed-option cursor-pointer" data-speed="urgent" data-percent="0.10">
<span class="material-symbols-outlined text-xl text-primary">rocket_launch</span>
<div class="text-xs font-medium" data-i18n="speedInstant">Instant</div>
<div class="text-[10px] text-gray-500" data-i18n="speedInstantTime">Minutes</div>
<div class="text-sm font-bold speed-amount">$0.00</div>
</button>
</div>
</div>

<!-- Payment & Collection dropdowns are now embedded into the cards below -->

<button class="bg-[#9FE870] text-[#163300] w-full text-center font-semibold py-4 px-6 rounded-full text-lg hover:bg-[#8BD45F] active:bg-[#163300] active:text-[#9FE870] transition-colors hover-press mt-6 neon-soft shadow-lg" onclick="window.location.href='sign-up.html'" data-i18n="startTransfer">
Start your transfer
</button>
</div>
</div>
</section>

<!-- Get Started Section -->
<section class="px-4 pb-20 md:pb-16 @container">
<div class="max-w-md mx-auto bg-[#163300] rounded-2xl shadow-lg p-6">
<h2 class="text-2xl font-bold text-center mb-6 text-[#9FE870]" data-i18n="getStartedSectionTitle">More than just transfers</h2>
<div class="flex flex-col gap-6">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
  <a class="flex flex-col items-center gap-2 p-4 bg-white/5 rounded-xl hover:bg-white/10 transition-colors text-white" href="send-money.html">
      <div class="bg-[#9FE870]/20 p-3 rounded-full">
        <span class="material-symbols-outlined text-[#9FE870] text-2xl">send</span>
      </div>
      <h3 class="font-bold text-base" data-i18n="getStartedSendMoney">Send Money</h3>
    </a>
  <a class="flex flex-col items-center gap-2 p-4 bg-white/5 rounded-xl hover:bg-white/10 transition-colors text-white" href="buy-airtime-data.html">
      <div class="bg-[#9FE870]/20 p-3 rounded-full">
        <span class="material-symbols-outlined text-[#9FE870] text-2xl">phone_iphone</span>
      </div>
      <h3 class="font-bold text-base" data-i18n="getStartedBuyData">Buy Data</h3>
    </a>
  </div>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
  <a class="flex flex-col items-center gap-2 p-4 bg-white/5 rounded-xl hover:bg-white/10 transition-colors text-white" href="cards.html">
      <div class="bg-[#9FE870]/20 p-3 rounded-full">
        <span class="material-symbols-outlined text-[#9FE870] text-2xl">credit_card</span>
      </div>
      <h3 class="font-bold text-base" data-i18n="getStartedDebitCard">Debit Card</h3>
    </a>
  <a class="flex flex-col items-center gap-2 p-4 bg-white/5 rounded-xl hover:bg-white/10 transition-colors text-white" href="store.html">
      <div class="bg-[#9FE870]/20 p-3 rounded-full">
        <span class="material-symbols-outlined text-[#9FE870] text-2xl">confirmation_number</span>
      </div>
      <h3 class="font-bold text-base" data-i18n="getStartedGetCoupons">Get Coupons</h3>
    </a>
  </div>
  <a class="bg-[#163300] text-[#9FE870] w-full text-center font-bold py-4 px-6 rounded-full text-lg transition-transform hover:scale-105 hover:bg-[#1E3A00] active:bg-[#9FE870] active:text-[#163300] transition-colors mt-8 block" href="sign-up.html" data-i18n="createFreeAccount"> Create Free Account </a>
</div>
</div>
</section>

<section class="py-20 md:py-16 px-4 bg-background-light dark:bg-background-dark">
<div class="max-w-4xl mx-auto flex flex-col gap-12">
<div class="text-center">
<h2 class="text-4xl md:text-5xl font-bold tracking-wide" data-i18n="whyChooseTitle">Why choose LULA?</h2>
<p class="text-text-muted-light dark:text-text-muted-dark mt-2 max-w-2xl mx-auto" data-i18n="whyChooseSubtitle">Experience banking that is simple, secure, and designed for you.</p>
</div>
<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
<div class="flex flex-col gap-4 text-center items-center reveal slide-up">
<div class="w-full aspect-square rounded-xl bg-cover bg-center" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuA6XIGhoYQxsVnTnVfpqAcAyYUiCxgaQ4lZKwinZgEwyfxcVz8wY9Nd6oRhJZKoO0UYGWz4z9r3Qt9K7VX_lYaueD5sSLTg33YsFJpCJLj-UWarYuZV8IazFcy3ozwIgila6c02kgRBZC0d3PZonMjCNAokSBmcTyaTftrErioXeJXinqypt2-u9hdYBTJ3O6vRZVKNIvdwsLdFyTu-QLyqFC3kPknTMLlD6EBbJyRJZ6MEWnXnaq0tuC99IRFb-4jbrl7M84sHRQue");'></div>
<h3 class="font-bold text-lg" data-i18n="why1Title">Real exchange rates</h3>
<p class="text-text-muted-light dark:text-text-muted-dark text-sm" data-i18n="why1Desc">Always get the mid-market rate with no hidden markups.</p>
</div>
<div class="flex flex-col gap-4 text-center items-center reveal slide-up delay-1">
<div class="w-full aspect-square rounded-xl bg-cover bg-center" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCzJjwjwRgYoBn4vR3LFz27etJFBRqFSYPinlW0HixyPX70AW5CJhQNzAHhuR_0qr-m0Aie2cT5nfIz_4dFd5kGGi0EwHPXb_Z8sm0MniD-cKJ3DVBS_eQupOdRuCmsaK3mhYLmO7qe96RNnbKFjY9lz1mDUjmT5ptDPsdtqCpvhDLL3FDTzGFh26BQtkcImbxPZ1veacMd-xQtBnfPNd5oxqyAB3Zv3Um-zYyYjAXq4Fp35wYWcnPs_8Z5WGHraF8APXBE3FBK4Lg0");'></div>
<h3 class="font-bold text-lg" data-i18n="why2Title">Low, transparent fees</h3>
<p class="text-text-muted-light dark:text-text-muted-dark text-sm" data-i18n="why2Desc">No surprises, just fair fees shown upfront.</p>
</div>
<div class="flex flex-col gap-4 text-center items-center reveal slide-up delay-2">
<div class="w-full aspect-square rounded-xl bg-cover bg-center" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCXdhxVLWZRy4calFWa9msBffor3o8h_658d2uOYB5QcxIztZW0u389FYEmSJYfTQg6S2_n7AgrA-qxCdzrTTXWCKfAae9XO0gDxEpY6rYC36GZFy_BIuXWvXMxq0iYN83lbxF8XWZo49ZH_W7LA5YDvdD1Ea80cxqoR0bFBV2x1yhj9ndMk3wmbfRrbiYZVJdJVimk7MM_AAf5OhdrtUcHiwmTjjfLEDo1s31mZFj1rf-F2nnBhNnuc5NeLTBnApWWU3wNmNAZYEv4");'></div>
<h3 class="font-bold text-lg" data-i18n="why3Title">Fast transfers</h3>
<p class="text-text-muted-light dark:text-text-muted-dark text-sm" data-i18n="why3Desc">Choose your speed - from minutes to a few days.</p>
</div>
</div>
</div>
</section>
<section class="py-24 md:py-20 px-4 bg-[#9FE870]/10">
  <div class="max-w-3xl mx-auto text-center flex flex-col items-center gap-6 reveal slide-up">
    <h2 class="text-4xl md:text-5xl font-bold tracking-wide" data-i18n="ctaTitle">Ready to take control?</h2>
    <p class="text-text-muted-light dark:text-text-muted-dark max-w-xl" data-i18n="whyChooseSubtitle">Join thousands of users who trust LULA for their financial needs.</p>
  <a class="bg-[#163300] text-[#9FE870] font-bold py-3 px-6 rounded-full text-lg transition-transform hover:scale-105 hover:bg-[#1E3A00] active:bg-[#9FE870] active:text-[#163300] transition-colors mt-2" href="sign-up.html" data-i18n="ctaGetStarted"> Get started </a>
    <!-- Reviews Button Start -->
    <a href="#reviews"
  class="inline-flex items-center gap-2 bg-[#9FE870] text-[#163300] font-bold py-3 px-6 rounded-full text-lg shadow transition-transform transition-colors hover:scale-105 mt-2 hover:bg-[#8BD45F] active:bg-[#163300] active:text-[#9FE870] focus:outline-none focus:ring-2 focus:ring-[#163300] focus:ring-offset-2">
      <span class="material-symbols-outlined text-xl">star_rate</span>
      <span data-i18n="ctaSeeReviews">See Reviews</span>
    </a>
    <!-- Reviews Button End -->
    
  </div>
</section>
<!-- Reviews Section Start -->
<section id="reviews" class="py-24 md:py-20 px-4 bg-white dark:bg-background-dark border-t border-primary/20">
  <div class="max-w-3xl mx-auto text-center flex flex-col items-center gap-6">
    <h2 class="text-3xl md:text-4xl font-bold tracking-wide text-black dark:text-black" data-i18n="reviewsTitle">What our users say</h2>
    <div class="flex items-center justify-center gap-2 text-gray-700 dark:text-gray-200 reveal slide-up" aria-label="Average rating 4.6 out of 5">
      <span class="material-symbols-outlined text-yellow-400">star</span>
      <span class="material-symbols-outlined text-yellow-400">star</span>
      <span class="material-symbols-outlined text-yellow-400">star</span>
      <span class="material-symbols-outlined text-yellow-400">star</span>
      <span class="material-symbols-outlined text-yellow-400">star_half</span>
      <span class="text-sm ml-1">Rated 4.6/5 on Trustpilot</span>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 w-full">
  <div class="bg-background-light dark:bg-surface-dark rounded-xl shadow p-6 flex flex-col items-center reveal slide-up">
        <span class="material-symbols-outlined text-primary text-4xl mb-2">format_quote</span>
        <p class="text-lg font-medium mb-4" data-i18n="review1Text">"LULA made sending money so easy and fast. Highly recommended!"</p>
        <div class="flex items-center gap-2">
          <span class="material-symbols-outlined text-yellow-400">star</span>
          <span class="material-symbols-outlined text-yellow-400">star</span>
          <span class="material-symbols-outlined text-yellow-400">star</span>
          <span class="material-symbols-outlined text-yellow-400">star</span>
          <span class="material-symbols-outlined text-yellow-400">star_half</span>
        </div>
        <p class="mt-2 text-sm text-gray-500 dark:text-gray-400" data-i18n="review1Author">— Tinashe M.</p>
      </div>
  <div class="bg-background-light dark:bg-surface-dark rounded-xl shadow p-6 flex flex-col items-center reveal slide-up delay-1">
        <span class="material-symbols-outlined text-primary text-4xl mb-2">format_quote</span>
        <p class="text-lg font-medium mb-4" data-i18n="review2Text">"No hidden fees and great support. I love the transparency."</p>
        <div class="flex items-center gap-2">
          <span class="material-symbols-outlined text-yellow-400">star</span>
          <span class="material-symbols-outlined text-yellow-400">star</span>
          <span class="material-symbols-outlined text-yellow-400">star</span>
          <span class="material-symbols-outlined text-yellow-400">star</span>
          <span class="material-symbols-outlined text-yellow-400">star</span>
        </div>
        <p class="mt-2 text-sm text-gray-500 dark:text-gray-400" data-i18n="review2Author">— Amanda K.</p>
      </div>
  <div class="bg-background-light dark:bg-surface-dark rounded-xl shadow p-6 flex flex-col items-center reveal slide-up delay-2">
        <span class="material-symbols-outlined text-primary text-4xl mb-2">format_quote</span>
        <p class="text-lg font-medium mb-4" data-i18n="review3Text">"The app is super intuitive and the card features are a game changer."</p>
        <div class="flex items-center gap-2">
          <span class="material-symbols-outlined text-yellow-400">star</span>
          <span class="material-symbols-outlined text-yellow-400">star</span>
          <span class="material-symbols-outlined text-yellow-400">star</span>
          <span class="material-symbols-outlined text-yellow-400">star</span>
          <span class="material-symbols-outlined text-yellow-400">star</span>
        </div>
        <p class="mt-2 text-sm text-gray-500 dark:text-gray-400" data-i18n="review3Author">— Brian D.</p>
      </div>
    </div>
  </div>
</section>
<!-- Reviews Section End -->
</main>
<footer class="bg-background-light dark:bg-background-dark py-12 px-4">
<div class="max-w-5xl mx-auto flex flex-col items-center gap-8">
<p class="text-xs text-gray-600 dark:text-gray-400 text-center max-w-3xl">
  LULA partners with regulated providers; your funds are safeguarded in line with applicable laws.
  <a href="how-it-works.html#protection" class="underline hover:text-primary">How your money is protected</a>.
</p>
<div class="flex flex-wrap items-center justify-center gap-x-6 gap-y-2 text-sm">
<a class="text-text-muted-light dark:text-text-muted-dark hover:text-primary" href="privacy-policy.html" data-i18n="footerPrivacy">Privacy Policy</a>
<a class="text-text-muted-light dark:text-text-muted-dark hover:text-primary" href="terms-of-service.html" data-i18n="footerTerms">Terms of Service</a>
<a class="text-text-muted-light dark:text-text-muted-dark hover:text-primary" 
   href="https://wa.me/263777374641?text=Hello%2C%20I%E2%80%99m%20interested%20in%20your%20services" 
   target="_blank">
  <span data-i18n="footerContact">Contact Us</span>
</a>
</div>
<div class="flex justify-center gap-6">
<a class="text-text-muted-light dark:text-text-muted-dark hover:text-primary" href="#">
<svg fill="currentColor" height="24" viewBox="0 0 256 256" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M247.39,68.94A8,8,0,0,0,240,64H209.57A48.66,48.66,0,0,0,168.1,40a46.91,46.91,0,0,0-33.75,13.7A47.9,47.9,0,0,0,120,88v6.09C79.74,83.47,46.81,50.72,46.46,50.37a8,8,0,0,0-13.65,4.92c-4.31,47.79,9.57,79.77,22,98.18a110.93,110.93,0,0,0,21.88,24.2c-15.23,17.53-39.21,26.74-39.47,26.84a8,8,0,0,0-3.85,11.93c.75,1.12,3.75,5.05,11.08,8.72C53.51,229.7,65.48,232,80,232c70.67,0,129.72-54.42,135.75-124.44l29.91-29.9A8,8,0,0,0,247.39,68.94Zm-45,29.41a8,8,0,0,0-2.32,5.14C196,166.58,143.28,216,80,216c-10.56,0-18-1.4-23.22-3.08,11.51-6.25,27.56-17,37.88-32.48A8,8,0,0,0,92,169.08c-.47-.27-43.91-26.34-44-96,16,13,45.25,33.17,78.67,38.79A8,8,0,0,0,136,104V88a32,32,0,0,1,9.6-22.92A30.94,30.94,0,0,1,167.9,56c12.66.16,24.49,7.88,29.44,19.21A8,8,0,0,0,204.67,80h16Z"></path>
</svg>
</a>
<a class="text-text-muted-light dark:text-text-muted-dark hover:text-primary" href="#">
<svg fill="currentColor" height="24" viewBox="0 0 256 256" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M128,80a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160ZM176,24H80A56.06,56.06,0,0,0,24,80v96a56.06,56.06,0,0,0,56,56h96a56.06,56.06,0,0,0,56-56V80A56.06,56.06,0,0,0,176,24Zm40,152a40,40,0,0,1-40,40H80a40,40,0,0,1-40-40V80a40,40,0,0,1,40-40h96a40,40,0,0,1,40,40ZM192,76a12,12,0,1,1-12-12A12,12,0,0,1,192,76Z"></path>
</svg>
</a>
<a class="text-text-muted-light dark:text-text-muted-dark hover:text-primary" href="#">
<svg fill="currentColor" height="24" viewBox="0 0 256 256" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm8,191.63V152h24a8,8,0,0,0,0-16H136V112a16,16,0,0,1,16-16h16a8,8,0,0,0,0-16H152a32,32,0,0,0-32,32v24H96a8,8,0,0,0,0,16h24v63.63a88,88,0,1,1,16,0Z"></path>
</svg>
</a>
</div>
<p class="text-text-muted-light dark:text-text-muted-dark text-sm" data-i18n="footerCopyright">© 2025 LULA. All rights reserved.</p>
</div>
</footer>
</div>

<!-- Floating WhatsApp Button -->
<a href="https://wa.me/263777374641?text=Hello%2C%20I%E2%80%99m%20interested%20in%20your%20services" 
  target="_blank"
  class="fixed right-6 w-14 h-14 flex items-center justify-center rounded-full bg-green-500 text-white shadow-lg hover:bg-green-600 transition"
  style="bottom: calc(1.5rem + env(safe-area-inset-bottom));">
  <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="28" height="28" viewBox="0 0 256 256">
    <path d="M128,24A104,104,0,0,0,24,128a103.34,103.34,0,0,0,15.44,54.76L24.58,231.42a8,8,0,0,0,10,10l48.66-15.06A103.34,103.34,0,0,0,128,232h0a104,104,0,0,0,0-208Zm0,192a87.51,87.51,0,0,1-45.11-12.42,8,8,0,0,0-6.94-.63l-36.8,11.39 11.39-36.8a8,8,0,0,0-.63-6.94A87.51,87.51,0,1,1,128,216Zm39.59-64.79c-2.17-1.09-12.8-6.34-14.77-7.06s-3.42-1.09-4.86,1.09-5.6,7.06-6.86,8.54-2.51,1.63-4.68.54a71.36,71.36,0,0,1-21-12.92,77.65,77.65,0,0,1-14.29-17.69c-1.17-2,0-3.11.88-4.19s2-2.51,3-3.77a15.48,15.48,0,0,0,2-3.37,3.75,3.75,0,0,0-.17-3.63c-.5-1.09-4.86-11.7-6.66-16.07s-3.53-3.52-4.86-3.58a9.58,9.58,0,0,0-4.11,0,7.86,7.86,0,0,0-5.6,2.6,23.72,23.72,0,0,0-7.46,17.58c0,10.36,7.6,20.39,8.68,21.75s15,23.07,36.29,32.33c5.08,2.19,9,3.5,12.07,4.48a29,29,0,0,0,13.36.83c4.08-.61,12.8-5.23,14.6-10.28s1.8-9.37,1.26-10.28S169.74,152.33,167.59,151.21Z"/>
  </svg>
</a>
<!-- End Floating WhatsApp Button -->

<script>
// Rate calculator functionality
const exchangeRates = {
  'USD': { 'EUR': 1.35, 'GBP': 0.85, 'CAD': 1.45, 'AUD': 1.55, 'JPY': 110, 'ZWL': 400, 'RUB': 78.62 },
  'EUR': { 'USD': 0.74, 'GBP': 0.63, 'CAD': 1.07, 'AUD': 1.15, 'JPY': 81, 'ZWL': 296 },
  'GBP': { 'USD': 1.18, 'EUR': 1.59, 'CAD': 1.71, 'AUD': 1.83, 'JPY': 129, 'ZWL': 472 },
  'CAD': { 'USD': 0.69, 'EUR': 0.93, 'GBP': 0.58, 'AUD': 0.93, 'JPY': 76, 'ZWL': 276 },
  'AUD': { 'USD': 0.65, 'EUR': 0.87, 'GBP': 0.55, 'CAD': 0.93, 'JPY': 71, 'ZWL': 258 },
  'JPY': { 'USD': 0.0091, 'EUR': 0.012, 'GBP': 0.0077, 'CAD': 0.013, 'AUD': 0.014, 'ZWL': 3.64 },
  'ZWL': { 'USD': 0.0025, 'EUR': 0.0034, 'GBP': 0.0021, 'CAD': 0.0036, 'AUD': 0.0039, 'JPY': 0.27 },
  'RUB': { 'USD': 0.01272 }
};

const flagUrls = {
  // Use Zimbabwe flag alongside USD as requested
  'USD': 'https://upload.wikimedia.org/wikipedia/commons/6/6a/Flag_of_Zimbabwe.svg',
  'RUB': 'https://upload.wikimedia.org/wikipedia/commons/f/f3/Flag_of_Russia.svg'
};

let currentFromCurrency = 'USD';
let currentToCurrency = 'RUB';
let baseTransferFeePercent = 0.02; // default 2% bank fee (overridden by methods)
let speedFee = 0.00; // computed from percentage
let currentSpeedPercent = 0.05; // default express 5%

const currencySymbols = {
  'USD': '$',
  'EUR': '€',
  'GBP': '£',
  'JPY': '¥',
  'CAD': '$',
  'AUD': '$',
  'ZWL': 'Z$',
  'RUB': '₽'
};

// Methods configuration decoupled: payment by SOURCE currency, collection by DESTINATION currency
const paymentMethodsBySource = {
  // Zimbabwe (USD) should always have Mobile Money as an option
  USD: ['methodBank', 'methodMobileMoney', 'methodCashPickup'],
  // Russia (RUB) sending side does not have Mobile Money
  RUB: ['methodBank', 'methodCashPickup']
};
const collectionMethodsByDest = {
  // Zimbabwe (USD) destination supports Mobile Money for collection
  USD: ['methodBank', 'methodMobileMoney', 'methodCashPickup'],
  // Russia (RUB) destination has no Mobile Money
  RUB: ['methodBank', 'methodCashPickup']
};
const defaultPaymentBySource = {
  USD: 'methodCashPickup',
  RUB: 'methodBank'
};
const defaultCollectionByDest = {
  USD: 'methodCashPickup',
  RUB: 'methodBank'
};
let selectedPaymentMethod = null;
let selectedCollectionMethod = null;
let lastMethodsPair = { from: null, to: null }; // track last pair for rerender

function formatAmount(value, currencyCode, locale) {
  try {
    const fmt = new Intl.NumberFormat(locale || getLocale(), { style: 'currency', currency: currencyCode, minimumFractionDigits: 2, maximumFractionDigits: 2 });
    return fmt.format(Number(value));
  } catch (e) {
    // Fallback to symbol + fixed if Intl fails
    const sym = currencySymbols[currencyCode] || '';
    return `${sym}${Number(value).toFixed(2)}`;
  }
}

// Simple i18n strings
const i18n = {
  en: {
    howItWorks: 'How it works',
    signIn: 'Sign In',
    androidApp: 'Android app',
    iosApp: 'iOS app',
    downloadApp: 'Download app',
    heroTitle: 'Your money, your way.',
    heroSubtitle: 'One app for all your financial needs. Simple, fast, secure.',
    youSend: 'You send',
    theyGet: 'They get',
    rateLabel: 'Rate',
    bankFee: 'Bank fee',
    ourFee: 'Our fee',
    totalToPay: 'Total to pay',
    speedStandard: 'Standard',
    speedStandardTime: '1-3 days',
    speedExpress: 'Express',
    speedExpressTime: 'Under 1 day',
    speedInstant: 'Instant',
    speedInstantTime: 'Minutes',
    startTransfer: 'Start your transfer',
  paymentMethodLabel: 'Payment method',
  collectionMethodLabel: 'Collection method',
  methodBankCard: 'Bank card',
  methodBank: 'Bank',
  methodCashPickup: 'Cash',
  methodMobileMoney: 'Mobile Money',
  payingWith: 'Paying with',
  collectingWith: 'Collecting with',
  change: 'Change',
    getStartedSectionTitle: 'More than just transfers',
    getStartedSendMoney: 'Send Money',
    getStartedBuyData: 'Buy Data',
    getStartedDebitCard: 'Debit Card',
    getStartedGetCoupons: 'Get Coupons',
    createFreeAccount: 'Create Free Account',
    whyChooseTitle: 'Why choose LULA?',
    whyChooseSubtitle: 'Experience banking that is simple, secure, and designed for you.',
    why1Title: 'Real exchange rates',
    why1Desc: 'Always get the mid-market rate with no hidden markups.',
    why2Title: 'Low, transparent fees',
    why2Desc: 'No surprises, just fair fees shown upfront.',
    why3Title: 'Fast transfers',
    why3Desc: 'Choose your speed - from minutes to a few days.',
  ctaTitle: 'Ready to take control?',
    ctaGetStarted: 'Get started',
  menuLabel: 'Menu',
    ctaSeeReviews: 'See Reviews',
    reviewsTitle: 'What our users say',
    review1Text: '"LULA made sending money so easy and fast. Highly recommended!"',
    review1Author: '— Tinashe M.',
    review2Text: '"No hidden fees and great support. I love the transparency."',
    review2Author: '— Amanda K.',
    review3Text: '"The app is super intuitive and the card features are a game changer."',
    review3Author: '— Brian D.',
    footerPrivacy: 'Privacy Policy',
    footerTerms: 'Terms of Service',
    footerContact: 'Contact Us',
    footerCopyright: '© 2025 LULA. All rights reserved.'
  },
  ru: {
    howItWorks: 'Как это работает',
    signIn: 'Войти',
    androidApp: 'Приложение Android',
    iosApp: 'Приложение iOS',
    downloadApp: 'Скачать приложение',
    heroTitle: 'Ваши деньги — по‑вашему.',
    heroSubtitle: 'Одно приложение для всех финансовых задач. Просто, быстро, безопасно.',
    youSend: 'Вы отправляете',
    theyGet: 'Они получат',
    rateLabel: 'Курс',
    bankFee: 'Банковская комиссия',
    ourFee: 'Наша комиссия',
    totalToPay: 'Итого к оплате',
    speedStandard: 'Стандарт',
    speedStandardTime: '1–3 дня',
    speedExpress: 'Экспресс',
    speedExpressTime: 'До 1 дня',
    speedInstant: 'Мгновенно',
    speedInstantTime: 'Минуты',
    startTransfer: 'Начать перевод',
  paymentMethodLabel: 'Способ оплаты',
  collectionMethodLabel: 'Способ получения',
  methodBankCard: 'Банковская карта',
  methodBank: 'Банк',
  methodCashPickup: 'Наличные',
  methodMobileMoney: 'Мобильные деньги',
  payingWith: 'Оплата',
  collectingWith: 'Получение',
  change: 'Изменить',
    getStartedSectionTitle: 'Больше, чем переводы',
    getStartedSendMoney: 'Отправить деньги',
    getStartedBuyData: 'Купить интернет',
    getStartedDebitCard: 'Дебетовая карта',
    getStartedGetCoupons: 'Получить купоны',
    createFreeAccount: 'Создать бесплатный аккаунт',
    whyChooseTitle: 'Почему выбирают LULA?',
    whyChooseSubtitle: 'Банкинг, который прост, безопасен и создан для вас.',
    why1Title: 'Реальные курсы обмена',
    why1Desc: 'Всегда среднерыночный курс без скрытых наценок.',
    why2Title: 'Низкие и прозрачные комиссии',
    why2Desc: 'Никаких сюрпризов — все комиссии показаны заранее.',
    why3Title: 'Быстрые переводы',
    why3Desc: 'Выбирайте скорость — от минут до нескольких дней.',
  ctaTitle: 'Готовы взять контроль?',
    ctaGetStarted: 'Начать',
  menuLabel: 'Меню',
    ctaSeeReviews: 'Смотреть отзывы',
    reviewsTitle: 'Что говорят наши пользователи',
    review1Text: '«LULA сделала отправку денег очень простой и быстрой. Рекомендую!»',
    review1Author: '— Тинаше М.',
    review2Text: '«Без скрытых комиссий и отличная поддержка. Люблю прозрачность.»',
    review2Author: '— Аманда К.',
    review3Text: '«Приложение очень удобное, а функции карты — настоящая революция.»',
    review3Author: '— Брайан Д.',
    footerPrivacy: 'Политика конфиденциальности',
    footerTerms: 'Условия обслуживания',
    footerContact: 'Связаться с нами',
    
    // Keep the year and brand literal to match original text
    footerCopyright: '© 2025 LULA. Все права защищены.'
  }
};
let currentLang = 'en';

function applyTranslations(lang) {
  const dict = i18n[lang] || i18n.en;
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (dict[key]) el.textContent = dict[key];
  });
  // Set document language attribute
  document.documentElement.setAttribute('lang', lang);
  // Update language button flag/code
  const btnFlag = document.getElementById('langBtnFlag');
  const codeEl = document.getElementById('langCode');
  if (btnFlag && codeEl) {
    if (lang === 'ru') {
      btnFlag.src = 'https://upload.wikimedia.org/wikipedia/commons/f/f3/Flag_of_Russia.svg';
      codeEl.textContent = 'RU';
    } else {
      btnFlag.src = 'https://upload.wikimedia.org/wikipedia/en/a/ae/Flag_of_the_United_Kingdom.svg';
      codeEl.textContent = 'EN';
    }
  }
}

// Number formatting helpers (locale-aware formatting on blur)
function unformatInput(input) {
  if (!input) return;
  input.value = String(input.value).replace(/[\s,]/g, '');
}
function formatInput(input, decimals = 2) {
  if (!input) return;
  const raw = parseFloat(String(input.value).replace(/[^0-9.-]/g, ''));
  if (isNaN(raw)) return;
  const fmt = new Intl.NumberFormat(currentLang === 'ru' ? 'ru-RU' : 'en-US', { minimumFractionDigits: decimals, maximumFractionDigits: decimals });
  input.value = fmt.format(raw);
}

// Smoothly tween numbers in text elements
function tweenNumber(el, target, decimals = 2, duration = 450) {
  if (!el) return;
  const parse = (t) => {
    const n = parseFloat(String(t).replace(/[^0-9.-]/g, ''));
    return isNaN(n) ? 0 : n;
  };
  const start = parse(el.textContent);
  const end = typeof target === 'number' ? target : parse(target);
  const startTime = performance.now();
  const ease = (t) => 1 - Math.pow(1 - t, 3); // easeOutCubic
  function frame(now) {
    const p = Math.min(1, (now - startTime) / duration);
    const val = start + (end - start) * ease(p);
    el.textContent = val.toFixed(decimals);
    if (p < 1) requestAnimationFrame(frame);
  }
  requestAnimationFrame(frame);
}

// Flash an updated field with subtle highlight
function flashUpdate(el, text) {
  if (!el) return;
  el.classList.add('number-tween');
  el.textContent = text;
  el.classList.remove('flash-updated');
  void el.offsetWidth; // reflow to restart animation
  el.classList.add('flash-updated');
  setTimeout(() => el.classList.remove('flash-updated'), 320);
}

// Animate input value changes when not focused (e.g., receive field)
function animateInputValue(inputEl, target, decimals = 2, duration = 350, locale = 'en-US') {
  if (!inputEl) return;
  const current = parseFloat(inputEl.value || '0');
  const end = typeof target === 'number' ? target : parseFloat(target || '0');
  if (isNaN(current) || isNaN(end)) {
    const fmt = new Intl.NumberFormat(locale, { minimumFractionDigits: decimals, maximumFractionDigits: decimals });
    inputEl.value = fmt.format(end || 0);
    return;
  }
  const startTime = performance.now();
  const ease = (t) => t < 0.5 ? 2 * t * t : 1 - Math.pow(-2 * t + 2, 2) / 2; // easeInOutQuad
  function frame(now) {
    const p = Math.min(1, (now - startTime) / duration);
    const val = current + (end - current) * ease(p);
    const fmt = new Intl.NumberFormat(locale, { minimumFractionDigits: decimals, maximumFractionDigits: decimals });
    inputEl.value = fmt.format(Number(val));
    if (p < 1) requestAnimationFrame(frame);
  }
  requestAnimationFrame(frame);
}

function getLocale() {
  return currentLang === 'ru' ? 'ru-RU' : 'en-US';
}

function updateConversion() {
  const sendRaw = document.getElementById('sendAmount').value;
  const sendAmount = parseFloat(String(sendRaw).replace(/[^0-9.-]/g, '')) || 0;
  const rate = (exchangeRates[currentFromCurrency] && exchangeRates[currentFromCurrency][currentToCurrency]) ? exchangeRates[currentFromCurrency][currentToCurrency] : 1;
  const receiveAmount = (sendAmount * rate).toFixed(2);
  // compute speed fee based on current percent
  speedFee = sendAmount * currentSpeedPercent;
  // compute bank fee depending on selected methods
  const cashKey = 'methodCashPickup';
  const isCash = (selectedPaymentMethod === cashKey) || (selectedCollectionMethod === cashKey);
  const effectiveBankFeePercent = isCash ? 0 : baseTransferFeePercent;
  const bankFee = sendAmount * effectiveBankFeePercent;
  const totalPay = (sendAmount + bankFee + speedFee).toFixed(2);

  const receiveInputEl = document.getElementById('receiveAmount');
  // Don't overwrite the user's typing in the receive input; only set when not focused
  if (receiveInputEl && document.activeElement !== receiveInputEl) {
    animateInputValue(receiveInputEl, receiveAmount, 2, 350, getLocale());
  }
  // Squish effect on 'They get' card on recalculation
  const theyCard = document.getElementById('theyGetCard');
  if (theyCard) {
    theyCard.classList.remove('squish-once');
    void theyCard.offsetWidth;
    theyCard.classList.add('squish-once');
  }
  tweenNumber(document.getElementById('exchangeRate'), rate, 4);
  const rateDisplayEl = document.getElementById('rateDisplay');
  if (rateDisplayEl) tweenNumber(rateDisplayEl, rate, 4);
  const locale = getLocale();
  flashUpdate(document.getElementById('totalPay'), formatAmount(totalPay, currentFromCurrency, locale));
  flashUpdate(document.getElementById('speedFeeDisplay'), formatAmount(speedFee, currentFromCurrency, locale));
  flashUpdate(document.getElementById('transferFeeDisplay'), formatAmount(bankFee, currentFromCurrency, locale));
  document.getElementById('toCurrency').textContent = currentToCurrency;
  // Refresh method options only when pair changes
  if (lastMethodsPair.from !== currentFromCurrency || lastMethodsPair.to !== currentToCurrency) {
    renderMethodOptions(currentFromCurrency, currentToCurrency);
    lastMethodsPair = { from: currentFromCurrency, to: currentToCurrency };
  }
  // Update speed card amounts with current symbol and current input amount
  updateSpeedCardAmounts(currentFromCurrency, sendAmount, locale);

  // Keep cards equal height after content changes
  equalizeCardsHeight();

  // Typing pulse
  const sendInputEl = document.getElementById('sendAmount');
  if (document.activeElement === sendInputEl) {
    sendInputEl.classList.remove('pulse-on-input');
    // Force reflow to restart animation
    void sendInputEl.offsetWidth;
    sendInputEl.classList.add('pulse-on-input');
  }
}

function updateFromReceive() {
  const receiveEl = document.getElementById('receiveAmount');
  const raw = String(receiveEl.value).replace(/[^0-9.-]/g, '');
  const rate = (exchangeRates[currentFromCurrency] && exchangeRates[currentFromCurrency][currentToCurrency]) ? exchangeRates[currentFromCurrency][currentToCurrency] : 1;
  if (raw === '') {
    // Mirror empty state and recompute as zero
    document.getElementById('sendAmount').value = '';
    updateConversion();
    return;
  }
  const receiveAmount = parseFloat(raw) || 0;
  // derive send amount from receive and recompute fees
  const sendAmount = receiveAmount / rate;
  document.getElementById('sendAmount').value = sendAmount.toFixed(2);
  updateConversion();

  // Typing pulse
  if (document.activeElement === receiveEl) {
    receiveEl.classList.remove('pulse-on-input');
    void receiveEl.offsetWidth;
    receiveEl.classList.add('pulse-on-input');
  }
}

// Quick amount chip handler
function setSendAmount(val) {
  const input = document.getElementById('sendAmount');
  if (!input) return;
  input.value = Number(val).toFixed(2).replace(/\.00$/, '');
  updateConversion();
  // Bring focus back to the send input for accessibility
  input.focus();
  input.setSelectionRange(input.value.length, input.value.length);
}

function swapCurrencies() {
  const temp = currentFromCurrency;
  currentFromCurrency = currentToCurrency;
  currentToCurrency = temp;
  updateConversion();
  
  // Update button flags and labels
  document.getElementById('sendCurrencyButton').querySelector('img').src = flagUrls[currentFromCurrency];
  document.getElementById('sendCurrencyButton').querySelector('span').textContent = currentFromCurrency;
  document.getElementById('receiveCurrencyButton').querySelector('img').src = flagUrls[currentToCurrency];
  document.getElementById('receiveCurrencyButton').querySelector('span').textContent = currentToCurrency;
  // Refresh UI amounts with new currency symbol
  updateConversion();
  // Persist last pair
  try { localStorage.setItem('lula_pair', JSON.stringify({ from: currentFromCurrency, to: currentToCurrency })); } catch (e) {}

  // Trigger a tiny bounce animation on the swap button
  const swapBtn = document.getElementById('swapButton');
  if (swapBtn) {
    swapBtn.classList.remove('bounce-once', 'rotate-tilt');
    void swapBtn.offsetWidth; // reflow to restart
    swapBtn.classList.add('bounce-once', 'rotate-tilt');
  }

  // Optional tick sound (muted by default)
  if (shouldPlayTick()) playTick();

  // Re-equalize heights after swap animations/updates
  setTimeout(equalizeCardsHeight, 0);
}

function updateSpeedCardAmounts(currencyCode, sendAmount, locale){
  const options = document.querySelectorAll('.speed-option');
  options.forEach((opt) => {
    const pct = parseFloat(opt.dataset.percent || '0');
    const amount = sendAmount * pct;
    const amtEl = opt.querySelector('.speed-amount');
    if (amtEl) amtEl.textContent = formatAmount(amount, currencyCode, locale);
  });
}

// Speed option selection
document.addEventListener('DOMContentLoaded', function() {
  const speedOptions = document.querySelectorAll('.speed-option');
  // Reveal-on-scroll initialization
  const revealEls = Array.from(document.querySelectorAll('.reveal'));
  if ('IntersectionObserver' in window) {
    const io = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('reveal-visible');
          io.unobserve(entry.target);
        }
      });
    }, { root: null, rootMargin: '0px 0px -10% 0px', threshold: 0.1 });
    revealEls.forEach(el => io.observe(el));
  } else {
    // Fallback: show immediately
    revealEls.forEach(el => el.classList.add('reveal-visible'));
  }
  
  speedOptions.forEach(option => {
    option.addEventListener('click', function() {
      // Clear active state from all options
      speedOptions.forEach(opt => {
        opt.classList.remove('bg-primary/10', 'dark:bg-primary/20');
        opt.classList.add('bg-white', 'dark:bg-gray-800');
      });

      // Set active state
      this.classList.remove('bg-white', 'dark:bg-gray-800');
      this.classList.add('bg-primary/10', 'dark:bg-primary/20');
      
  // Update current speed percent and recompute
  currentSpeedPercent = parseFloat(this.dataset.percent || '0');
  updateConversion();
    });
  });
  
  // Initialize with express option selected (5%)
  const defaultOption = document.querySelector('.speed-option[data-speed="express"]') || speedOptions[1];
  if (defaultOption) defaultOption.click();
  // Initialize payment/collection methods based on destination currency
  renderMethodOptions(currentFromCurrency, currentToCurrency);
  lastMethodsPair = { from: currentFromCurrency, to: currentToCurrency };
  
  // Language switcher interactions
  const langBtn = document.getElementById('langSwitcherButton');
  const langMenu = document.getElementById('langMenu');
  const appBtn = document.getElementById('appDownloadButton');
  const appMenu = document.getElementById('appMenu');
  const mobileMenuBtn = document.getElementById('mobileMenuButton');
  const mobileMenu = document.getElementById('mobileMenu');
  const mobileBackdrop = document.getElementById('mobileBackdrop');
  const mobileClose = document.getElementById('mobileMenuClose');
  const mobileAppToggle = document.getElementById('mobileAppToggle');
  const mobileAppMenu = document.getElementById('mobileAppMenu');
  const mobileAppChevron = document.getElementById('mobileAppChevron');
  const receiveCurrencyBtn = document.getElementById('receiveCurrencyButton');
  const receiveCurrencyMenu = document.getElementById('receiveCurrencyMenu');
  const sendCurrencyBtn = document.getElementById('sendCurrencyButton');
  const sendCurrencyMenu = document.getElementById('sendCurrencyMenu');
  const sendCardEl = sendCurrencyBtn ? sendCurrencyBtn.closest('.rounded-xl') : null;
  const receiveCardEl = receiveCurrencyBtn ? receiveCurrencyBtn.closest('.rounded-xl') : null;
  if (langBtn && langMenu) {
    langBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      const willOpen = langMenu.classList.contains('hidden');
      langMenu.classList.toggle('hidden');
      langBtn.setAttribute('aria-expanded', String(willOpen));
    });
    langMenu.querySelectorAll('[data-lang]').forEach(item => {
      item.addEventListener('click', (e) => {
        const lang = e.currentTarget.getAttribute('data-lang');
        currentLang = lang;
        try { localStorage.setItem('lula_lang', currentLang); } catch (e) {}
        applyTranslations(currentLang);
        langMenu.classList.add('hidden');
      });
    });
    // Close on outside click
    document.addEventListener('click', () => {
      if (!langMenu.classList.contains('hidden')) {
        langMenu.classList.add('hidden');
        langBtn.setAttribute('aria-expanded', 'false');
      }
    });
  }
  // App download dropdown interactions
  if (appBtn && appMenu) {
    appBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      const isHidden = appMenu.classList.contains('hidden');
      appMenu.classList.toggle('hidden');
      appBtn.setAttribute('aria-expanded', String(isHidden));
      // Close other menus
      langMenu?.classList.add('hidden');
    });
    // Close on outside click
    document.addEventListener('click', () => {
      if (!appMenu.classList.contains('hidden')) {
        appMenu.classList.add('hidden');
        appBtn.setAttribute('aria-expanded', 'false');
      }
    });
  }
  // Receive currency dropdown interactions
  if (receiveCurrencyBtn && receiveCurrencyMenu) {
    receiveCurrencyBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      const willOpen = receiveCurrencyMenu.classList.contains('hidden');
      receiveCurrencyMenu.classList.toggle('hidden');
      receiveCurrencyBtn.setAttribute('aria-expanded', String(willOpen));
      if (willOpen) {
        // Elevate card and menu above siblings
        receiveCardEl?.classList.add('relative', 'z-[100]');
        receiveCurrencyMenu.style.zIndex = '9999';
      } else {
        receiveCardEl?.classList.remove('z-[100]');
        receiveCurrencyMenu.style.zIndex = '';
      }
    });
    receiveCurrencyMenu.querySelectorAll('[data-curr]').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        const newCurr = e.currentTarget.getAttribute('data-curr');
        if (!newCurr || newCurr === currentToCurrency) {
          receiveCurrencyMenu.classList.add('hidden');
          receiveCurrencyBtn.setAttribute('aria-expanded', 'false');
          return;
        }
        currentToCurrency = newCurr;
  // Update UI icon/text
  const img = receiveCurrencyBtn.querySelector('img');
  const codeSpan = receiveCurrencyBtn.querySelector('span');
  if (img) img.src = flagUrls[currentToCurrency] || img.src;
  if (codeSpan) codeSpan.textContent = currentToCurrency;
        // Persist pair
        try { localStorage.setItem('lula_pair', JSON.stringify({ from: currentFromCurrency, to: currentToCurrency })); } catch (e) {}
        // Re-render methods and recompute
        renderMethodOptions(currentToCurrency);
        updateConversion();
        receiveCurrencyMenu.classList.add('hidden');
        receiveCurrencyBtn.setAttribute('aria-expanded', 'false');
        receiveCardEl?.classList.remove('z-[100]');
        receiveCurrencyMenu.style.zIndex = '';
      });
    });
    // Close on outside click
    document.addEventListener('click', () => {
      if (!receiveCurrencyMenu.classList.contains('hidden')) {
        receiveCurrencyMenu.classList.add('hidden');
        receiveCurrencyBtn.setAttribute('aria-expanded', 'false');
        receiveCardEl?.classList.remove('z-[100]');
        receiveCurrencyMenu.style.zIndex = '';
      }
    });
  }
  // Send currency dropdown interactions
  if (sendCurrencyBtn && sendCurrencyMenu) {
    sendCurrencyBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      const willOpen = sendCurrencyMenu.classList.contains('hidden');
      sendCurrencyMenu.classList.toggle('hidden');
      sendCurrencyBtn.setAttribute('aria-expanded', String(willOpen));
      if (willOpen) {
        // Elevate card and menu above siblings
        sendCardEl?.classList.add('relative', 'z-[100]');
        sendCurrencyMenu.style.zIndex = '9999';
      } else {
        sendCardEl?.classList.remove('z-[100]');
        sendCurrencyMenu.style.zIndex = '';
      }
    });
    sendCurrencyMenu.querySelectorAll('[data-curr]').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        const newCurr = e.currentTarget.getAttribute('data-curr');
        if (!newCurr || newCurr === currentFromCurrency) {
          sendCurrencyMenu.classList.add('hidden');
          sendCurrencyBtn.setAttribute('aria-expanded', 'false');
          sendCardEl?.classList.remove('z-[100]');
          sendCurrencyMenu.style.zIndex = '';
          return;
        }
        currentFromCurrency = newCurr;
        // Update UI icon/text
        const img = sendCurrencyBtn.querySelector('img');
        const codeSpan = sendCurrencyBtn.querySelector('span');
        if (img) img.src = flagUrls[currentFromCurrency] || img.src;
        if (codeSpan) codeSpan.textContent = currentFromCurrency;
        // Persist pair and recompute
        try { localStorage.setItem('lula_pair', JSON.stringify({ from: currentFromCurrency, to: currentToCurrency })); } catch (e) {}
        updateConversion();
        sendCurrencyMenu.classList.add('hidden');
        sendCurrencyBtn.setAttribute('aria-expanded', 'false');
        sendCardEl?.classList.remove('z-[100]');
        sendCurrencyMenu.style.zIndex = '';
      });
    });
    // Close on outside click
    document.addEventListener('click', () => {
      if (!sendCurrencyMenu.classList.contains('hidden')) {
        sendCurrencyMenu.classList.add('hidden');
        sendCurrencyBtn.setAttribute('aria-expanded', 'false');
        sendCardEl?.classList.remove('z-[100]');
        sendCurrencyMenu.style.zIndex = '';
      }
    });
  }
  // Mobile menu interactions
  function openMobileMenu() {
    if (!mobileMenu) return;
    mobileMenu.classList.remove('hidden');
    requestAnimationFrame(() => mobileMenu.classList.remove('translate-x-full'));
    if (mobileBackdrop) mobileBackdrop.classList.remove('hidden');
    document.body.style.overflow = 'hidden';
    mobileMenuBtn?.setAttribute('aria-expanded', 'true');
    // Reset mobile app submenu to closed state
    if (mobileAppMenu && mobileAppChevron) {
      mobileAppMenu.classList.add('hidden');
      mobileAppChevron.textContent = 'expand_more';
    }
    // Focus trap: focus first focusable
    const first = mobileMenu.querySelector('button, a, [tabindex]:not([tabindex="-1"])');
    if (first) first.focus();
  }
  function closeMobileMenu() {
    if (!mobileMenu) return;
    mobileMenu.classList.add('translate-x-full');
    mobileBackdrop?.classList.add('hidden');
    document.body.style.overflow = '';
    mobileMenuBtn?.setAttribute('aria-expanded', 'false');
    setTimeout(() => mobileMenu.classList.add('hidden'), 300);
    mobileMenuBtn?.focus();
  }
  if (mobileMenuBtn && mobileMenu) {
    mobileMenuBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      openMobileMenu();
    });
    mobileClose?.addEventListener('click', closeMobileMenu);
    mobileBackdrop?.addEventListener('click', closeMobileMenu);
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeMobileMenu();
      if (e.key === 'Escape') {
        const wasLangOpen = langMenu && !langMenu.classList.contains('hidden');
        const wasAppOpen = appMenu && !appMenu.classList.contains('hidden');
        langMenu?.classList.add('hidden');
        appMenu?.classList.add('hidden');
        if (wasLangOpen) langBtn?.focus();
        else if (wasAppOpen) appBtn?.focus();
      }
      if (e.key === 'Tab' && !mobileMenu.classList.contains('hidden')) {
        // rudimentary focus trap
        const focusables = mobileMenu.querySelectorAll('button, a, [tabindex]:not([tabindex="-1"])');
        if (focusables.length) {
          const first = focusables[0];
          const last = focusables[focusables.length - 1];
          if (e.shiftKey && document.activeElement === first) {
            e.preventDefault();
            last.focus();
          } else if (!e.shiftKey && document.activeElement === last) {
            e.preventDefault();
            first.focus();
          }
        }
      }
    });
    // Language selection from mobile menu
    mobileMenu.querySelectorAll('.lang-select').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const lang = e.currentTarget.getAttribute('data-lang');
        currentLang = lang;
        try { localStorage.setItem('lula_lang', currentLang); } catch (e) {}
        applyTranslations(currentLang);
        closeMobileMenu();
      });
    });
  }
  // Toggle mobile app submenu
  if (mobileAppToggle && mobileAppMenu && mobileAppChevron) {
    mobileAppToggle.addEventListener('click', (e) => {
      e.stopPropagation();
      const isHidden = mobileAppMenu.classList.contains('hidden');
      mobileAppMenu.classList.toggle('hidden');
      mobileAppChevron.textContent = isHidden ? 'expand_less' : 'expand_more';
    });
  }
  // Initialize language from storage
  try {
    const saved = localStorage.getItem('lula_lang');
    if (saved && (saved === 'en' || saved === 'ru')) {
      currentLang = saved;
    }
    const savedPair = localStorage.getItem('lula_pair');
    if (savedPair) {
      const p = JSON.parse(savedPair);
      if (p && p.from && p.to && exchangeRates[p.from] && exchangeRates[p.from][p.to]) {
        currentFromCurrency = p.from;
        // Migrate any legacy ZWL destination to USD (Zimbabwe)
        currentToCurrency = (p.to === 'ZWL') ? 'USD' : p.to;
        if (p.to === 'ZWL') {
          try { localStorage.setItem('lula_pair', JSON.stringify({ from: currentFromCurrency, to: currentToCurrency })); } catch (e) {}
        }
        // Update flags and labels accordingly
        const sendBtn = document.getElementById('sendCurrencyButton');
        const recvBtn = document.getElementById('receiveCurrencyButton');
        if (sendBtn) {
          sendBtn.querySelector('img').src = flagUrls[currentFromCurrency];
          sendBtn.querySelector('span').textContent = currentFromCurrency;
        }
        if (recvBtn) {
          recvBtn.querySelector('img').src = flagUrls[currentToCurrency];
          recvBtn.querySelector('span').textContent = currentToCurrency;
        }
      }
    } else {
      // Persist default: Sending from Zim (USD) to Russia (RUB)
      try { localStorage.setItem('lula_pair', JSON.stringify({ from: currentFromCurrency, to: currentToCurrency })); } catch (e) {}
    }
    // Restore saved method selections
    const savedMethods = localStorage.getItem('lula_methods');
    if (savedMethods) {
      const m = JSON.parse(savedMethods);
      if (m) { selectedPaymentMethod = m.payment || null; selectedCollectionMethod = m.collection || null; }
    }
  } catch (e) {}
  // Apply initial language
  applyTranslations(currentLang);
  // Pre-warm audio for tick on first user gesture
  window.addEventListener('pointerdown', initAudioContext, { once: true });
  // Format defaults once post-init
  setTimeout(() => {
    const s = document.getElementById('sendAmount');
    const r = document.getElementById('receiveAmount');
    if (s && document.activeElement !== s) formatInput(s, 2);
    if (r && document.activeElement !== r) formatInput(r, 2);
    // Initial height sync once everything paints
    equalizeCardsHeight();
  }, 0);
  // Re-sync on viewport resize
  window.addEventListener('resize', () => {
    equalizeCardsHeight();
  });
});

// Make "They get" card match "You send" height
function equalizeCardsHeight() {
  const sendCard = document.getElementById('youSendCard');
  const getCard = document.getElementById('theyGetCard');
  if (!sendCard || !getCard) return;
  // Reset any fixed height to measure natural sizes
  sendCard.style.height = '';
  getCard.style.height = '';
  // Compute max height from natural layouts
  const sendH = sendCard.getBoundingClientRect().height;
  const getH = getCard.getBoundingClientRect().height;
  const target = Math.max(sendH, getH);
  // Apply same explicit height to both for visual parity
  sendCard.style.height = `${target}px`;
  getCard.style.height = `${target}px`;
}

// Render dropdown menu items for current pair
function renderMethodOptions(sourceCurrency, destCurrency) {
  const paymentMenu = document.getElementById('paymentMethodMenu');
  const collectionMenu = document.getElementById('collectionMethodMenu');
  const paymentLabel = document.getElementById('paymentMethodLabel');
  const collectionLabel = document.getElementById('collectionMethodLabel');
  const paymentIcon = document.getElementById('paymentMethodIcon');
  const collectionIcon = document.getElementById('collectionMethodIcon');
  const paymentBtn = document.getElementById('paymentMethodButton');
  const collectionBtn = document.getElementById('collectionMethodButton');
  if (!paymentMenu || !collectionMenu || !paymentLabel || !collectionLabel || !paymentBtn || !collectionBtn) return;
  const paymentCard = paymentBtn.closest('.rounded-xl');
  const collectionCard = collectionBtn.closest('.rounded-xl');
  const elevate = (cardEl, on) => {
    if (!cardEl) return;
    if (on) {
      cardEl.classList.add('relative');
      cardEl.classList.add('z-[100]');
    } else {
      cardEl.classList.remove('z-[100]');
      // keep relative harmlessly
    }
  };
  paymentMenu.innerHTML = '';
  collectionMenu.innerHTML = '';
  const dict = i18n[currentLang] || i18n.en;
  const methodIconMap = {
    methodBank: 'account_balance',
    methodBankCard: 'credit_card',
    methodCashPickup: 'payments',
    methodMobileMoney: 'smartphone'
  };
  const makeItem = (key, group) => {
    const a = document.createElement('a');
    a.href = '#';
    a.className = 'flex items-center gap-2 px-2 py-2 rounded btn-liquid-item text-gray-800 dark:text-gray-100';
    a.setAttribute('role', 'menuitemradio');
    a.setAttribute('aria-checked', String((group === 'payment' ? selectedPaymentMethod : selectedCollectionMethod) === key));
    const icon = document.createElement('span');
    icon.className = 'material-symbols-outlined text-base';
    icon.textContent = methodIconMap[key] || 'tune';
    const label = document.createElement('span');
    label.textContent = dict[key] || key;
    a.appendChild(icon);
    a.appendChild(label);
    a.addEventListener('click', (e) => {
      e.preventDefault();
      if (group === 'payment') {
        selectedPaymentMethod = key;
        paymentLabel.textContent = dict[key] || key;
        paymentMenu.classList.add('hidden');
        paymentBtn.setAttribute('aria-expanded', 'false');
        paymentMenu.style.zIndex = '';
        elevate(paymentCard, false);
        if (paymentIcon) paymentIcon.textContent = methodIconMap[key] || 'tune';
      } else {
        selectedCollectionMethod = key;
        collectionLabel.textContent = dict[key] || key;
        collectionMenu.classList.add('hidden');
        collectionBtn.setAttribute('aria-expanded', 'false');
        collectionMenu.style.zIndex = '';
        elevate(collectionCard, false);
        if (collectionIcon) collectionIcon.textContent = methodIconMap[key] || 'tune';
      }
      try { localStorage.setItem('lula_methods', JSON.stringify({ payment: selectedPaymentMethod, collection: selectedCollectionMethod })); } catch (e) {}
      renderMethodOptions(destCurrency); // refresh aria-checked states
      updateConversion(); // recompute fees on selection
    });
    return a;
  };
  // Build options from decoupled configs
  const payOptions = paymentMethodsBySource[sourceCurrency] || ['methodBank'];
  const colOptions = collectionMethodsByDest[destCurrency] || ['methodBank'];
  // Ensure sensible defaults
  if (!selectedPaymentMethod || !payOptions.includes(selectedPaymentMethod)) {
    const defPay = defaultPaymentBySource[sourceCurrency] || payOptions[0];
    selectedPaymentMethod = payOptions.includes(defPay) ? defPay : payOptions[0];
    try { localStorage.setItem('lula_methods', JSON.stringify({ payment: selectedPaymentMethod, collection: selectedCollectionMethod })); } catch (e) {}
    setTimeout(updateConversion, 0);
  }
  if (!selectedCollectionMethod || !colOptions.includes(selectedCollectionMethod)) {
    const defCol = defaultCollectionByDest[destCurrency] || colOptions[0];
    selectedCollectionMethod = colOptions.includes(defCol) ? defCol : colOptions[0];
    try { localStorage.setItem('lula_methods', JSON.stringify({ payment: selectedPaymentMethod, collection: selectedCollectionMethod })); } catch (e) {}
  }
  payOptions.forEach(k => paymentMenu.appendChild(makeItem(k, 'payment')));
  colOptions.forEach(k => collectionMenu.appendChild(makeItem(k, 'collection')));
  // Set labels from current selection or placeholder dashes
  paymentLabel.textContent = selectedPaymentMethod ? (dict[selectedPaymentMethod] || selectedPaymentMethod) : '—';
  collectionLabel.textContent = selectedCollectionMethod ? (dict[selectedCollectionMethod] || selectedCollectionMethod) : '—';
  if (paymentIcon) paymentIcon.textContent = selectedPaymentMethod ? (methodIconMap[selectedPaymentMethod] || 'tune') : 'credit_card';
  if (collectionIcon) collectionIcon.textContent = selectedCollectionMethod ? (methodIconMap[selectedCollectionMethod] || 'tune') : 'account_balance';
  // Update aria-labels for accessibility since visible labels were removed
  if (paymentBtn) paymentBtn.setAttribute('aria-label', `${dict.payingWith || 'Paying with'}: ${paymentLabel.textContent}`);
  if (collectionBtn) collectionBtn.setAttribute('aria-label', `${dict.collectingWith || 'Collecting with'}: ${collectionLabel.textContent}`);
  // ensure fees reflect defaults
  setTimeout(updateConversion, 0);

  // Wire button toggles
  const openPayment = (e) => {
    e.stopPropagation();
    const willOpen = paymentMenu.classList.contains('hidden');
    paymentMenu.classList.toggle('hidden');
    paymentBtn.setAttribute('aria-expanded', String(willOpen));
    collectionMenu.classList.add('hidden');
    collectionBtn.setAttribute('aria-expanded', 'false');
    if (willOpen) {
      elevate(paymentCard, true);
      elevate(collectionCard, false);
      paymentMenu.style.zIndex = '9999';
      collectionMenu.style.zIndex = '';
    } else {
      elevate(paymentCard, false);
      paymentMenu.style.zIndex = '';
    }
  };
  const openCollection = (e) => {
    e.stopPropagation();
    const willOpen = collectionMenu.classList.contains('hidden');
    collectionMenu.classList.toggle('hidden');
    collectionBtn.setAttribute('aria-expanded', String(willOpen));
    paymentMenu.classList.add('hidden');
    paymentBtn.setAttribute('aria-expanded', 'false');
    if (willOpen) {
      elevate(collectionCard, true);
      elevate(paymentCard, false);
      collectionMenu.style.zIndex = '9999';
      paymentMenu.style.zIndex = '';
    } else {
      elevate(collectionCard, false);
      collectionMenu.style.zIndex = '';
    }
  };
  if (paymentBtn) paymentBtn.onclick = openPayment;
  if (collectionBtn) collectionBtn.onclick = openCollection;
  if (!window._methodsClickBound) {
    document.addEventListener('click', () => {
      if (!paymentMenu.classList.contains('hidden')) { paymentMenu.classList.add('hidden'); paymentBtn.setAttribute('aria-expanded', 'false'); paymentMenu.style.zIndex=''; elevate(paymentCard, false); }
      if (!collectionMenu.classList.contains('hidden')) { collectionMenu.classList.add('hidden'); collectionBtn.setAttribute('aria-expanded', 'false'); collectionMenu.style.zIndex=''; elevate(collectionCard, false); }
    });
    window._methodsClickBound = true;
  }
}

// --- Micro tick sound helpers ---
let audioCtx = null;
function initAudioContext() {
  if (!audioCtx) {
    try { audioCtx = new (window.AudioContext || window.webkitAudioContext)(); } catch (e) { audioCtx = null; }
  }
}
function shouldPlayTick() {
  try { return localStorage.getItem('lula_tick_enabled') === 'true'; } catch (e) { return false; }
}
function playTick() {
  if (!audioCtx) return;
  const o = audioCtx.createOscillator();
  const g = audioCtx.createGain();
  o.type = 'triangle';
  o.frequency.value = 880; // A5
  g.gain.value = 0.0018; // very quiet
  o.connect(g); g.connect(audioCtx.destination);
  o.start();
  // short chirp envelope
  const now = audioCtx.currentTime;
  g.gain.exponentialRampToValueAtTime(0.00001, now + 0.06);
  o.stop(now + 0.07);
}

// Initialize conversion on page load
updateConversion();

// Register service worker for PWA
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sw.js').catch(() => {});
  });
}
</script>

</body></html>